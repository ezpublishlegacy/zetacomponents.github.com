<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Apache Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="dotxp" />
	<meta name="language" content="en" />
	<meta name="date" content="Wed, 04 Aug 2010 13:07:19 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcConfigurationFileReader.html" />
	<meta name="DC.creator" content="dotxp" />
	<meta name="DC.date" content="Wed, 04 Aug 2010 13:07:19 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/zetacomponents/documentation/trunk/Configuration/phpdoc/ezcConfigurationFileReader.rdf" />
	<link rel="icon" href="/zetacomponents/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/zetacomponents/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/zetacomponents/styles/print.css" media="print" />


	<title>Apache Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="/zetacomponents" title="Apache Zeta Components - high quality PHP components">
			Apache Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/zetacomponents/news.html" title="About">About</a>
	</li>
<li >
	<a href="/zetacomponents/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/zetacomponents/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/zetacomponents/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/zetacomponents/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/zetacomponents/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/zetacomponents/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/zetacomponents/documentation/trunk/Configuration/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/zetacomponents/documentation/trunk/Configuration/phpdoc/classtrees.html" title="API">API</a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Apache Zeta Components Manual :: Docs For Class ezcConfigurationFileReader</h2>

                  <h3>Configuration::ezcConfigurationFileReader</h3>
    
<a name="sec-description"></a>
<h3>Class ezcConfigurationFileReader</h3>

<p>ezcConfigurationFileReader class provides the functionality for reading  file based configuration formats.</p><div><p>This class implements most of the interface of ezcConfigurationReader and  makes it easier to work on file based configuration. All methods except  load() and validate() are implemented by this class, so a subclass only  needs to handle the actual serialization.</p></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/Configuration/src/file_reader.php?r=HEAD">/Configuration/src/file_reader.php</a></p>
       


<pre><a href="ezcConfigurationReader.html">ezcConfigurationReader</a>
   |
   --ezcConfigurationFileReader</pre>


  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogen//</td>
        </tr></table><a name="sec-descendants"></a>
  <h3>Descendants</h3>
  <table class="detail"><thead><tr><th>Child Class</th>
        <th>Description</th>
      </tr></thead><tbody><tr><td><a href="ezcConfigurationArrayReader.html">ezcConfigurationArrayReader</a></td>          <td>
                          This class provides functionality for reading files containing specific PHP  arrays into ezcConfiguration objects.
                      </td>
        </tr><tr><td><a href="ezcConfigurationIniReader.html">ezcConfigurationIniReader</a></td>          <td>
                          ezcConfigurationIniReader provides functionality for reading INI files into  ezcConfiguration objects.
                      </td>
        </tr></tbody></table><a name="sec-var-summary"></a>
  <h3>Member Variables</h3>
  <table class="summary"><tr><td class="right">
            <em>protected</em>            <em><a href="ezcConfiguration.html">ezcConfiguration</a></em>          </td>
          <td>
            <code>
              $config
               = <span class="var-default"> false</span>            </code>
            <br><div style="margin-left: 20px">Contains the configuration object that was read from the file with  load().</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>string</em>          </td>
          <td>
            <code>
              $location
               = <span class="var-default"> ''</span>            </code>
            <br><div style="margin-left: 20px">The current location of the config, this is either the path on the filesystem  or a PHP stream prefix.</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>string</em>          </td>
          <td>
            <code>
              $name
               = <span class="var-default"> ''</span>            </code>
            <br><div style="margin-left: 20px">The base name of the configuration file, the suffix will be appended to this  to find the real filename.</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>array</em>          </td>
          <td>
            <code>
              $options
               = <span class="var-default">array()</span>            </code>
            <br><div style="margin-left: 20px">Current options for the reader.</div>            <br><div style="margin-left: 20px"><p>See the specific reader to see which options it supports.</p></div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>string</em>          </td>
          <td>
            <code>
              $path
               = <span class="var-default"> ''</span>            </code>
            <br><div style="margin-left: 20px">The path to the file which will contain the serialized configuration data.</div>                      </td>
        </tr></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>public</em>                        <em>ezcConfigurationFileReader</em>          </td>
          <td>
            <code>
              <a href="#__construct"><b>__construct</b></a>(
                                                                  [                  $path
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Constructs the reader object.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>bool</em>          </td>
          <td>
            <code>
              <a href="#configExists"><b>configExists</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns true if the configuration exists.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em><a href="ezcConfiguration.html">ezcConfiguration</a></em>          </td>
          <td>
            <code>
              <a href="#getConfig"><b>getConfig</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the current configuration object.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#getLocation"><b>getLocation</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the current location string.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#getName"><b>getName</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the current name for the configuration to be read.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array</em>          </td>
          <td>
            <code>
              <a href="#getOptions"><b>getOptions</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the current options for the reader.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>int</em>          </td>
          <td>
            <code>
              <a href="#getTimestamp"><b>getTimestamp</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the last modified timestamp.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#init"><b>init</b></a>(
                                                                                    $location
                                                    ,                                     $name
                                                    ,                   [                  $options
                   = array()]                               )
            </code>
            <br><div style="margin-left: 20px">Initializes the reader with a location and a name. These values determine  where the configuration will be serialized.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#parseLocationPath"><b>parseLocationPath</b></a>(
                                                                                    $path
                                                    ,                                     $suffix
                                                 )
            </code>
            <br><div style="margin-left: 20px">Parses a the path $path and sets the location and name  properties on this object.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#setOptions"><b>setOptions</b></a>(
                                                                                    $configurationData
                                                 )
            </code>
            <br><div style="margin-left: 20px">Sets the options $configurationData.</div>          </td>
        </tr></table><h3>Inherited Methods</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcConfigurationReader.html">ezcConfigurationReader</a></span>
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>public</em>              abstract                            <em>bool</em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodconfigExists">ezcConfigurationReader::configExists()</a></b></code>
              <br><div style="margin-left: 20px">Checks if the configuration exists.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em><a href="ezcConfiguration.html">ezcConfiguration</a></em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodgetConfig">ezcConfigurationReader::getConfig()</a></b></code>
              <br><div style="margin-left: 20px">Returns the current configuration object.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>string</em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodgetLocation">ezcConfigurationReader::getLocation()</a></b></code>
              <br><div style="margin-left: 20px">Returns the current location string.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>string</em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodgetName">ezcConfigurationReader::getName()</a></b></code>
              <br><div style="margin-left: 20px">Returns the name of the configuration to be read.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>array</em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodgetOptions">ezcConfigurationReader::getOptions()</a></b></code>
              <br><div style="margin-left: 20px">Returns the options for the reader.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>              abstract                            <em>string</em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodgetSuffix">ezcConfigurationReader::getSuffix()</a></b></code>
              <br><div style="margin-left: 20px">Returns the suffix used in the storage filename.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>mixed</em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodgetTimestamp">ezcConfigurationReader::getTimestamp()</a></b></code>
              <br><div style="margin-left: 20px">Returns the last modified timestamp.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>void</em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodinit">ezcConfigurationReader::init()</a></b></code>
              <br><div style="margin-left: 20px">Initializes the reader with a $location and a $name.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em><a href="ezcConfiguration.html">ezcConfiguration</a></em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodload">ezcConfigurationReader::load()</a></b></code>
              <br><div style="margin-left: 20px">Loads the current config object.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>void</em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodsetOptions">ezcConfigurationReader::setOptions()</a></b></code>
              <br><div style="margin-left: 20px">Sets the options $options for the reader.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em><a href="ezcConfigurationValidationResult.html">ezcConfigurationValidationResult</a></em>            </td>
            <td>
              <code><b><a href="ezcConfigurationReader.html#methodvalidate">ezcConfigurationReader::validate()</a></b></code>
              <br><div style="margin-left: 20px">Validates the configuration.</div>                          </td>
          </tr></tbody></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
                    
      <a name="method__construct" id="__construct"><!-- --></a>

    <h4>__construct</h4>

    <div class="method-signature">
      ezcConfigurationFileReader
      __construct(
                                  [string
          $path
           = null]              )
    </div>

    <p>Constructs the reader object.</p><div><p>$path must contain the relative or absolute path to the configuration file.  You can use PHP streams, e.g compress.gz://site.ini.gz.</p><p>After construction call load() to parse the INI file from disk and return a  configuration object.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$path</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodconfigExists" id="configExists"><!-- --></a>

    <h4>configExists</h4>

    <div class="method-signature">
      bool
      configExists(
      )
    </div>

    <p>Returns true if the configuration exists.</p>
    
        

          <h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationReader.html#methodconfigExists">ezcConfigurationReader::configExists()</a></code></td>
            <td>
                              Checks if the configuration exists.
                          </td>
          </tr></tbody></table><a name="methodgetConfig" id="getConfig"><!-- --></a>

    <h4>getConfig</h4>

    <div class="method-signature">
      <a href="ezcConfiguration.html">ezcConfiguration</a>
      getConfig(
      )
    </div>

    <p>Returns the current configuration object.</p><div><p>Returns false if there no current configuration.</p></div>
    
        

          <h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationReader.html#methodgetConfig">ezcConfigurationReader::getConfig()</a></code></td>
            <td>
                              Returns the current configuration object.
                          </td>
          </tr></tbody></table><a name="methodgetLocation" id="getLocation"><!-- --></a>

    <h4>getLocation</h4>

    <div class="method-signature">
      string
      getLocation(
      )
    </div>

    <p>Returns the current location string.</p>
    
        

          <h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationReader.html#methodgetLocation">ezcConfigurationReader::getLocation()</a></code></td>
            <td>
                              Returns the current location string.
                          </td>
          </tr></tbody></table><a name="methodgetName" id="getName"><!-- --></a>

    <h4>getName</h4>

    <div class="method-signature">
      string
      getName(
      )
    </div>

    <p>Returns the current name for the configuration to be read.</p>
    
        

          <h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationReader.html#methodgetName">ezcConfigurationReader::getName()</a></code></td>
            <td>
                              Returns the name of the configuration to be read.
                          </td>
          </tr></tbody></table><a name="methodgetOptions" id="getOptions"><!-- --></a>

    <h4>getOptions</h4>

    <div class="method-signature">
      array
      getOptions(
      )
    </div>

    <p>Returns the current options for the reader.</p>
    
        

          <h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationReader.html#methodgetOptions">ezcConfigurationReader::getOptions()</a></code></td>
            <td>
                              Returns the options for the reader.
                          </td>
          </tr></tbody></table><a name="methodgetTimestamp" id="getTimestamp"><!-- --></a>

    <h4>getTimestamp</h4>

    <div class="method-signature">
      int
      getTimestamp(
      )
    </div>

    <p>Returns the last modified timestamp.</p><div><p>Returns false if there is not last current timestamp.</p></div>
    
        

          <h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationReader.html#methodgetTimestamp">ezcConfigurationReader::getTimestamp()</a></code></td>
            <td>
                              Returns the last modified timestamp.
                          </td>
          </tr></tbody></table><a name="methodinit" id="init"><!-- --></a>

    <h4>init</h4>

    <div class="method-signature">
      void
      init(
                                  string
          $location
                            ,           string
          $name
                            ,           [
          $options
           = array()]              )
    </div>

    <p>Initializes the reader with a location and a name. These values determine  where the configuration will be serialized.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$location</code></td>
              <td><em>string</em></td>
              <td>
                                  The main placement for the configuration. It is                up to the specific reader to interpret this value. This                can for instance be used to determine the directory                location for an INI file.
                              </td>
            </tr><tr><td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  The name for the configuration. It is up to the                specific reader to interpret this value.  This can for                instance be the basename for the INI file, so a value of                'site' would create a file with name 'site.ini'.
                              </td>
            </tr><tr><td><code>$options</code></td>
              <td><em>array</em></td>
              <td>
                                  An associative array of options for the reader.               Which options to use is determined by the specific reader               class.
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationReader.html#methodinit">ezcConfigurationReader::init()</a></code></td>
            <td>
                              Initializes the reader with a $location and a $name.
                          </td>
          </tr></tbody></table><a name="methodparseLocationPath" id="parseLocationPath"><!-- --></a>

    <h4>parseLocationPath</h4>

    <div class="method-signature">
      void
      parseLocationPath(
                                  string
          $path
                            ,           string
          $suffix
                        )
    </div>

    <p>Parses a the path $path and sets the location and name  properties on this object.</p><div><p>ezcConfigurationFileWriter::parseLocationPath() has the same  code. It is duplicated to prevent complex OO hacks.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$path</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$suffix</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationException.html">ezcConfigurationException</a></code></td>
              <td>
                                  if the configuration file has the wrong suffix.
                              </td>
            </tr></tbody></table><a name="methodsetOptions" id="setOptions"><!-- --></a>

    <h4>setOptions</h4>

    <div class="method-signature">
      void
      setOptions(
                                  array(string=&gt;mixed)
          $configurationData
                        )
    </div>

    <p>Sets the options $configurationData.</p><div><p>The options are specified in a associative array in the form 'optionName' =&gt; value.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$configurationData</code></td>
              <td><em>array(string=&gt;mixed)</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="/zetacomponents/documentation/trunk/Base/phpdoc/ezcBaseSettingValueException.html">ezcBaseSettingValueException</a></code></td>
              <td>
                                  if you specify a value out of range for a setting.
                              </td>
            </tr><tr><td><code><a href="/zetacomponents/documentation/trunk/Base/phpdoc/ezcBaseSettingNotFoundException.html">ezcBaseSettingNotFoundException</a></code></td>
              <td>
                                  if you try to set a non existent setting.
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcConfigurationReader.html#methodsetOptions">ezcConfigurationReader::setOptions()</a></code></td>
            <td>
                              Sets the options $options for the reader.
                          </td>
          </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	Copyright © 2010 <a href="http://apache.org">The Apache Software Foundation</a>
</div>
</div>
</body>
</html>
