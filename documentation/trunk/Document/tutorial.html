<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="jerome" />
	<meta name="language" content="en" />
	<meta name="date" content="Sun, 10 Jul 2011 11:10:40 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="Tutorial" />
	<meta name="DC.creator" content="jerome" />
	<meta name="DC.date" content="Sun, 10 Jul 2011 11:10:40 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/documentation/trunk/Document/tutorial.rdf" />
	<link rel="icon" href="/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css" media="print" />


	<title>Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="" title="Zeta Components - high quality PHP components">
			Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/news.html" title="About">About</a>
	</li>
<li >
	<a href="/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li class="requested">
	<a href="/documentation/trunk/Document/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li >
	<a href="/documentation/trunk/Document/phpdoc/classtrees.html" title="API">API</a>
	</li>
<li >
	<a href="/documentation/trunk/Document/conversion.html" title="Conversion ">Conversion </a>
	</li>
<li >
	<a href="/documentation/trunk/Document/styles.html" title="Styles ">Styles </a>
	</li>

</ul>

		<h2>eZ Components - Document</h2><div class="toc"><h3>Table of Contents</h3><ul><li><p><a href="#introduction">Introduction</a></p></li><li><p><a href="#markup-languages">Markup languages</a></p><ul><li><p><a href="#restructured-text">ReStructured text</a></p><ul><li><p><a href="#error-handling">Error handling</a></p></li><li><p><a href="#directives">Directives</a></p></li><li><p><a href="#xhtml-rendering">XHTML rendering</a></p></li><li><p><a href="#writing-rst">Writing RST</a></p></li></ul></li><li><p><a href="#xhtml">XHTML</a></p><ul><li><p><a href="#writing-xhtml">Writing XHTML</a></p></li><li><p><a href="#html-styles">HTML styles</a></p></li></ul></li><li><p><a href="#ez-xml">eZ Xml</a></p><ul><li><p><a href="#reading-ez-xml">Reading eZ XML</a></p></li><li><p><a href="#wrting-ez-xml">Wrting eZ XML</a></p></li></ul></li><li><p><a href="#wiki-markup">Wiki markup</a></p><ul><li><p><a href="#reading-wiki-markup">Reading wiki markup</a></p></li><li><p><a href="#writing-wiki-markup">Writing wiki markup</a></p></li></ul></li><li><p><a href="#pdf">PDF</a></p><ul><li><p><a href="#reading-pdf">Reading PDF</a></p></li><li><p><a href="#writing-pdf">Writing PDF</a></p></li></ul></li><li><p><a href="#open-document-text">Open Document Text</a></p><ul><li><p><a href="#reading-odt">Reading ODT</a></p></li><li><p><a href="#writing-odt">Writing ODT</a></p></li><li><p><a href="#styling-odt">Styling ODT</a></p></li></ul></li></ul></li></ul></div><a name="introduction"></a><a name="id37"></a><h3>Introduction</h3><p>The document component offers transformations between different semantic markup languages, like:</p><ul><li><p><a href="http://docutils.sourceforge.net/rst.html">ReStructured text</a></p></li><li><p><a href="http://www.w3.org/TR/xhtml1/">XHTML</a></p></li><li><p><a href="http://www.docbook.org/">Docbook</a></p></li><li><p><a href="Document_conversion.html">eZ Publish XML markup</a></p></li><li><p>Wiki markup languages, like: <a href="http://doc.ez.no/eZ-Publish/Technical-manual/4.x/Reference/XML-tags">Creole</a>, <a href="http://www.wikicreole.org/">Dokuwiki</a> and <a href="http://www.dokuwiki.org/dokuwiki">Confluence</a></p></li><li><p><a href="http://confluence.atlassian.com/renderer/notationhelp.action?section=all">Open Document Text</a> as used by <a href="http://www.oasis-open.org/committees/tc_home.php?wg_abbrev=office">OpenOffice.org</a> and other office suites</p></li></ul><p>Like shown in figure 1, each format supports conversions from and to docbook as a central intermediate format and may implement additional shortcuts for conversions from and to other formats. Not each format can express the same semantics, so there may be some information lost, which is <a href="http://www.openoffice.org/">documented in a dedicated document</a>.</p><div class="&#10;&#9;&#9;&#9;&#9;&#9;image &#10;&#9;&#9;&#9;&#9;&#9;&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;center&#10;&#9;&#9;&#9;&#9;&#9;&#9; "><img alt="Conversion architecture in document component Figure 1: Conversion architecture in document component" title="Conversion architecture in document component Figure 1: Conversion architecture in document component" src="img/document-architecture.png"/><span class="image_title">Conversion architecture in document component Figure 1: Conversion architecture in document component</span></div><p>There are central handler classes for each markup language, which follow a common conversion interface <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocument.html'>ezcDocument</a> and all implement the methods getAsDocbook() and createFromDocbook().</p><p>Additionally the document component can render documents in the following output formats. Those formats cannot be read, but just generated:</p><ul><li><p>PDF</p></li></ul><a name="markup-languages"></a><a name="id38"></a><h3>Markup languages</h3><p>The following markup languages are currently handled by the document component.</p><a name="restructured-text"></a><a name="id39"></a><h4>ReStructured text</h4><p><a href="http://docutils.sourceforge.net/rst.html">RsStructured Text</a> (RST) is a simple text based markup language, intended to be easy to read and write by humans. Examples can be found in the <a href="http://docutils.sourceforge.net/docs/user/rst/quickstart.html">documentation of RST</a>.</p><p>The transformation of a simple RST document to docbook can be done just like this:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'../tutorial.txt'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>In line 3 the document is actually loaded and parsed into an internal abstract syntax tree. In line 5 the internal structure is then transformed back to a docbook document. In the last line the resulting document is returned as a string, so that you can echo or store it.</p><a name="error-handling"></a><a name="id40"></a><h5>Error handling</h5><p>By default each parsing or compiling error will be transformed into an exception, so that you are noticed about those errors. The error reporting settings can be modified like for all other document handlers:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">errorReporting&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">E_PARSE&nbsp;</span><span style="color: #0000FF">|&nbsp;</span><span style="color: #000000">E_ERROR&nbsp;</span><span style="color: #0000FF">|&nbsp;</span><span style="color: #000000">E_WARNING</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'../tutorial.txt'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<span style="color: #000000">?&gt;</span>
</ol><p>Where the setting in line 3 causes, that only warnings, errors and fatal errors are transformed to exceptions now, while the notices are only collected, but ignored. This setting affects both, the parsing of the source document and the compiling into the destination language.</p><a name="directives"></a><a name="id41"></a><h5>Directives</h5><p><a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#directives">RST directives</a> are elements in the RST documents with parameters, optional named options and optional content. The document component implements a well known subset of the <a href="http://docutils.sourceforge.net/docs/ref/rst/directives.html">directives implemented in the docutils RST parser</a>. You may register custom directive handlers, or overwrite existing directive handlers using your own implementation. A directive in RST markup with parameters, options and content could look like:</p><code class="block">My document
===========

The custom directive:

.. my_directive:: parameters
    :option: value

    Some indented text...</code><p>For such a directive you should register a handler on the RST document, like:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">registerDirective</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'my_directive'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">'myCustomDirective'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$from&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$xml&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<span style="color: #000000">?&gt;</span>
</ol><p>The class myCustomDirective must extend the class <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRstDirective.html'>ezcDocumentRstDirective</a>, and implement the method toDocbook(). For rendering you get access to the full AST, the contents of the current directive and the base path, where the document resist in the file system - which is necessary for accessing external files.</p><a name="directive-example"></a><h6>Directive example</h6><p>A full example for a custom directive, where we want to embed real world addresses into our RST document and maintain the semantics in the resulting docbook, could look like:</p><code class="block">Address example
===============

.. address:: John Doe
    :street: Some Lane 42</code><p>We would possibly add more information, like the ZIP code, city and state, but skip this to keep the code short. The implemented directive then would just need to take these information and transform it into valid docbook XML using the DOM extension.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">myAddressDirective&nbsp;</span><span style="color: #0000FF">extends&nbsp;</span><span style="color: #000000">ezcDocumentRstDirective</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">toDocbook</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">DOMDocument&nbsp;$document</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">DOMElement&nbsp;$root&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$address&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createElement</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'address'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$root</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">appendChild</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$address&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;!empty(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">node</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">parameters&nbsp;</span><span style="color: #0000FF">)&nbsp;)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$name&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createElement</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'personname'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">htmlspecialchars</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">node</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">parameters&nbsp;</span><span style="color: #0000FF">)&nbsp;);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$address</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">appendChild</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$name&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;isset(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">node</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">[</span><span style="color: #335533">'street'</span><span style="color: #0000FF">]&nbsp;)&nbsp;)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$street&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createElement</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'street'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">htmlspecialchars</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">node</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">[</span><span style="color: #335533">'street'</span><span style="color: #0000FF">]&nbsp;)&nbsp;);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$address</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">appendChild</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$street&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>The AST node, which should be rendered, is passed to the constructor of the custom directive visitor and available in the class property $node. The complete DOMDocument and the current DOMNode are passed to the method. In this case we just create a <a href="http://docbook.org/tdg/en/html/address.html">address node</a> with the optional child nodes street and personname, depending on the existence of the respective values.</p><p>You can now render the RST document after you registered you custom directive handler as shown above:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Load&nbsp;custom&nbsp;directive</span></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'00_01_address_directive.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">registerDirective</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'address'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">'myAddressDirective'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadString</span><span style="color: #0000FF">(&nbsp;&lt;&lt;&lt;EORST</span></li>
<li><span style="color: #335533">Address&nbsp;example</span></li>
<li><span style="color: #335533">===============</span></li>
<li></li>
<li><span style="color: #335533">..&nbsp;address::&nbsp;John&nbsp;Doe</span></li>
<li><span style="color: #335533">&nbsp;&nbsp;&nbsp;&nbsp;:street:&nbsp;Some&nbsp;Lane&nbsp;42</span></li>
<li><span style="color: #0000FF">EORST</span></li>
<li><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>The output will then look like:</p><code class="block">&lt;?xml version="1.0"?&gt;
&lt;article xmlns="http://docbook.org/ns/docbook"&gt;
  &lt;section id="address_example"&gt;
    &lt;sectioninfo/&gt;
    &lt;title&gt;Address example&lt;/title&gt;
    &lt;address&gt;
      &lt;personname&gt; John Doe&lt;/personname&gt;
      &lt;street&gt; Some Lane 42&lt;/street&gt;
    &lt;/address&gt;
  &lt;/section&gt;
&lt;/article&gt;</code><a name="xhtml-rendering"></a><a name="id42"></a><h5>XHTML rendering</h5><p>For RST a conversion shortcut has been implemented, so that you don't need to convert the RST to docbook and the docbook to XHTML. This saves conversion time and enables you to prevent from information loss during multiple conversions:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$from&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$xhtml&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsXhtml</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$xml&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$xhtml</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<span style="color: #000000">?&gt;</span>
</ol><p>The default XHTML compiler generates complete XHTML documents, including header and meta-data in the header. If you want to in-line the result, you may specify another XHTML compiler, which just creates a XHTML block level element, which can be embedded in your source code:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">xhtmlVisitor&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #335533">'<a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRstXhtmlBodyVisitor.html'>ezcDocumentRstXhtmlBodyVisitor</a>'</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$from&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$xhtml&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsXhtml</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$xml&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$xhtml</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<span style="color: #000000">?&gt;</span>
</ol><p>You can of course also use the predefined and custom directives for XHTML rendering. The directives used during XHTML generation also need to implement the interface <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRstXhtmlDirective.html'>ezcDocumentRstXhtmlDirective</a>.</p><a name="modification-of-xhtml-rendering"></a><h6>Modification of XHTML rendering</h6><p>You can modify the generated output of the XHTML visitor by creating a custom visitor for the RST AST. The easiest way probably is to extend from one of the existing XHTML visitors and reusing it. For example you may want to fill the type attribute in bullet lists, like known from HTML, which isn't valid XHTML, though:</p><code class="block">class myDocumentRstXhtmlVisitor extends <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRstXhtmlVisitor.html'>ezcDocumentRstXhtmlVisitor</a>
{
    protected function visitBulletList( DOMNode $root, <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRstNode.html'>ezcDocumentRstNode</a> $node )
    {
        $list = $this-&gt;document-&gt;createElement( 'ul' );
        $root-&gt;appendChild( $list );

        $listTypes = array(
            '*'            =&gt; 'circle',
            '+'            =&gt; 'disc',
            '-'            =&gt; 'square',
            "\xe2\x80\xa2" =&gt; 'disc',
            "\xe2\x80\xa3" =&gt; 'circle',
            "\xe2\x81\x83" =&gt; 'square',
        );
        // Not allowed in XHTML strict
        $list-&gt;setAttribute( 'type', $listTypes[$node-&gt;token-&gt;content] );

        // Decoratre blockquote contents
        foreach ( $node-&gt;nodes as $child )
        {
            $this-&gt;visitNode( $list, $child );
        }
    }
}</code><p>The structure, which is not enforced for visitors, but used in the docbook and XHTML visitors, is to call special methods for each node type in the AST to decorate the AST recursively. This method will be called for all bullet list nodes in the AST which contain the actual list items. As the first parameter the current position in the XHTML DOM tree is also provided to the method.</p><p>To create the XHTML we can now just create a new list node (&lt;ul&gt;) in the current DOMNode, set the new attribute, and recursively decorate all descendants using the general visitor dispatching method visitNode() for all children in the AST. For the AST children being also rendered as children in the XML tree, we pass the just created DOMNode (&lt;ul&gt;) as the new root node to the visitNode() method.</p><p>After defining such a class, you could use the custom visitor like shown above:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">xhtmlVisitor&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #335533">'myDocumentRstXhtmlVisitor'</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$from&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$xhtml&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsXhtml</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$xml&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$xhtml</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<span style="color: #000000">?&gt;</span>
</ol><p>Now the lists in the generated XHTML will also the type attribute set.</p><a name="writing-rst"></a><a name="id43"></a><h5>Writing RST</h5><p>Writing a RST document from an existing docbook document, or a <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbook.html'>ezcDocumentDocbook</a> object generated from some other source, is trivial:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbook.html'>ezcDocumentDocbook</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'docbook.xml'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$rst&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$rst</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createFromDocbook</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$rst</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>For the conversion internally the <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbookToRstConverter.html'>ezcDocumentDocbookToRstConverter</a> class is used, which can also be called directly, like:</p><code class="block">$converter = new <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbookToRstConverter.html'>ezcDocumentDocbookToRstConverter</a>();
$rst = $converter-&gt;convert( $docbook );</code><p>Using this you can configure the converter to your wishes, or extend the convert to handle yet unhandled docbook elements. The converter is, as usaul configured using its option property, and the options are defined in the <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbookToRstConverterOptions.html'>ezcDocumentDocbookToRstConverterOptions</a> class. There you may configure the header underlines used, the bullet types or the line wrapping.</p><a name="extending-rst-writing"></a><h6>Extending RST writing</h6><p>As said before, not all existing docbook elements might already be handled by the converter. But its handler based mechanism makes it easy to extend or overwrite existing behaviour.</p><p>Similar to the example above we can convert the &lt;address&gt; docbook element back to the address RST directive.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbook.html'>ezcDocumentDocbook</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'address.xml'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">myAddressElementHandler&nbsp;</span><span style="color: #0000FF">extends&nbsp;</span><span style="color: #000000">ezcDocumentDocbookToRstBaseHandler</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">handle</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">ezcDocumentElementVisitorConverter&nbsp;$converter</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">DOMElement&nbsp;$node</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$root&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$root&nbsp;</span><span style="color: #0000FF">.=&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">renderDirective</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'address'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$node</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">textContent</span><span style="color: #0000FF">,&nbsp;array()&nbsp;);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #000000">$root</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$converter&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbookToRstConverter.html'>ezcDocumentDocbookToRstConverter</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">setElementHandler</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'docbook'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">'address'</span><span style="color: #0000FF">,&nbsp;new&nbsp;</span><span style="color: #000000">myAddressElementHandler</span><span style="color: #0000FF">()&nbsp;);</span></li>
<li></li>
<li><span style="color: #000000">$rst&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">convert</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$rst</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>The handler classes are assigned to XML elements in some namespace, "docbook" in this case. It is registered in line 18 for the element "address". The class itself has to extend from the <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentElementVisitorHandler.html'>ezcDocumentElementVisitorHandler</a> class, which is in this case already extended by <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbookToRstBaseHandler.html'>ezcDocumentDocbookToRstBaseHandler</a>, which provides some convenience methods for RST creation, like renderDirective() used in this example.</p><p>The handler is called, whenever the element, it has been registered for, occurs in the docbook XML tree. In this case it has to append the generated RST part for this element to the RST document - and may call the general conversion handler again for its child elements. This example converts the above shown docbook XML back to:</p><code class="block">.. _address_example:

===============
Address example
===============

.. address::
       John Doe
       Some Lane 42</code><p>Which ignores any special address sub elements for the simplicity of the example. For more examples on element handlers check the existing implementations.</p><a name="xhtml"></a><a name="id44"></a><h4>XHTML</h4><p>Converting XHTML or HTML to a document markup language is a non trivial task, because XHTML elements are often used for layout, ignoring the actual semantics of the element. Therefore the document component allows to stack a set of filters, which each performs a specific conversion task. The default filter stack may work fine, but you may want to also implement custom filters depending on the contents of the filtered website, or to cover additional sources of meta data information, like RDF, Microformats or similar.</p><p>The available filters are:</p><ul><li><p>ezcDocumentXhtmlElementFilter</p><p>This filter just maintains the common semantics of XHTML elements by converting them to their docbook equivalents. It ignores common class names. This filter is the most basic and you probably want to always add this one to the filter stack.</p></li><li><p>ezcDocumentXhtmlXpathFilter</p><p>The XPath filter takes a XPath expression to locate the root of the document contents. It makes no sense to use this one together with the content locator filter. This is a more static, but also more precise way to tell the converter where to find the actual contents.</p></li><li><p>ezcDocumentXhtmlMetadataFilter</p><p>This filter extracts common meta data from the XHTML head, and converts it into docbook section info elements.</p></li><li><p>ezcDocumentXhtmlTablesFilter</p><p>HTML tables are especially often used for layout markup. This filter takes a threshold, and if the table text factor drops below this threshold the table is ignored. The same is true for stacked tables.</p></li><li><p>ezcDocumentXhtmlContentLocatorFilter</p><p>The content locator filter tries to find the actual article in the markup of a website, ignoring the surrounding layout markup. This seems to work well for example for common news sites.</p></li></ul><p>By default just the element and meta data filters are used. So the conversion of a common website, like the <a href="http://ezcomponents.org/introduction">introduction article</a> from ezcomponents.org, results in a docbook document containing all lists for the navigation, etc..</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$xhtml&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentXhtml.html'>ezcDocumentXhtml</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$xhtml</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'ez_components_introduction.html'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$xhtml</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>So let's additionally use the XPath filter to pass the location of the actual content to the conversion:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$xhtml&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentXhtml.html'>ezcDocumentXhtml</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$xhtml</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">setFilters</span><span style="color: #0000FF">(&nbsp;array(</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentXhtmlElementFilter.html'>ezcDocumentXhtmlElementFilter</a></span><span style="color: #0000FF">(),</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentXhtmlMetadataFilter.html'>ezcDocumentXhtmlMetadataFilter</a></span><span style="color: #0000FF">(),</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentXhtmlXpathFilter.html'>ezcDocumentXhtmlXpathFilter</a></span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'//div[@class="document"]'&nbsp;</span><span style="color: #0000FF">),</span></li>
<li><span style="color: #0000FF">)&nbsp;);</span></li>
<li><span style="color: #000000">$xhtml</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'ez_components_introduction.html'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$xhtml</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>With this additional filter, the contents are correctly found and converted properly.</p><a name="writing-xhtml"></a><a name="id45"></a><h5>Writing XHTML</h5><p>Writing XHTML from docbook is very similar to the approach used for writing RST: It the same handler based mechanism, so you may want to check that chapter to learn how to extend it for unhandled docbook elements.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbook.html'>ezcDocumentDocbook</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'docbook.xml'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$html&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentXhtml.html'>ezcDocumentXhtml</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$html</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createFromDocbook</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$html</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>As you can see, it happens the same way, as for other conversion from Docbook to any other format.</p><a name="html-styles"></a><a name="id46"></a><h5>HTML styles</h5><p>By default inline CSS is embedded in all generated HTML, to create a more appealing default experience. This may of course be deactivated and you may also reference custom style sheets to be included in the generated HTML.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbook.html'>ezcDocumentDocbook</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'docbook.xml'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$converter&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbookToHtmlConverter.html'>ezcDocumentDocbookToHtmlConverter</a></span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Remove&nbsp;the&nbsp;inline&nbsp;CSS</span></li>
<li><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">styleSheet&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">null</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Add&nbsp;custom&nbsp;CSS&nbsp;style&nbsp;sheets</span></li>
<li><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">styleSheets&nbsp;</span><span style="color: #0000FF">=&nbsp;array(</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">'/styles/screen.css'</span><span style="color: #0000FF">,</span></li>
<li><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$html&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">convert</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$html</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>For this we again use the converted directly to be able to configure it as we like.</p><a name="ez-xml"></a><a name="id47"></a><h4>eZ Xml</h4><p>eZ XML describes the markup format used internally by <a href="http://ez.no/ezpublish">eZ Publish</a> for storing markup in content objects. The format is roughly specified in the <a href="http://ez.no/doc/ez_publish/technical_manual/4_0/reference/xml_tags">eZ Publish documentation</a>.</p><p>Modules are often register custom elements, which are not specified anywhere, so there might be several elements not handled by default.</p><a name="reading-ez-xml"></a><a name="id48"></a><h5>Reading eZ XML</h5><p>Reading eZ XML is basically the same as for all other formats:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentEzXml.html'>ezcDocumentEzXml</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadString</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'&lt;?xml&nbsp;version="1.0"?&gt;</span></li>
<li><span style="color: #335533">&lt;section&nbsp;xmlns="http://ez.no/namespaces/ezpublish3"&gt;</span></li>
<li><span style="color: #335533">&nbsp;&nbsp;&nbsp;&nbsp;&lt;header&gt;Paragraph&lt;/header&gt;</span></li>
<li><span style="color: #335533">&nbsp;&nbsp;&nbsp;&nbsp;&lt;paragraph&gt;Some&nbsp;content...&lt;/paragraph&gt;</span></li>
<li><span style="color: #335533">&lt;/section&gt;'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>As always the document object is either constructed from an input string or file. To convert into docbook you may just use the method getAsDocbook().</p><a name="link-handling"></a><h6>Link handling</h6><p>Inside eZ XML documents link URIs are replaced with IDs, which reference the links inside the eZ Publish database, to ensure that a changed link is update globally. The replacing of such links is handled by a class extending from <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentEzXmlLinkProvider.html'>ezcDocumentEzXmlLinkProvider</a>. By default dummy URLs are added to the documents.</p><p>URLs are either referenced directly by their ID, a node ID, or an object ID. Those parameters are passed to the link provide, which then should return an URL for that.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">myLinkProvider&nbsp;</span><span style="color: #0000FF">extends&nbsp;</span><span style="color: #000000">ezcDocumentEzXmlLinkProvider</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">fetchUrlById</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$id</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$view</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$show_path&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #335533">'http://host/path/'&nbsp;</span><span style="color: #0000FF">.&nbsp;</span><span style="color: #000000">$id</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">fetchUrlByNodeId</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$id</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$view</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$show_path&nbsp;</span><span style="color: #0000FF">)&nbsp;{}</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">fetchUrlByObjectId</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$id</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$view</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$show_path&nbsp;</span><span style="color: #0000FF">)&nbsp;{}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentEzXml.html'>ezcDocumentEzXml</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadString</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'&lt;?xml&nbsp;version="1.0"?&gt;</span></li>
<li><span style="color: #335533">&lt;section&nbsp;xmlns="http://ez.no/namespaces/ezpublish3"&gt;</span></li>
<li><span style="color: #335533">&nbsp;&nbsp;&nbsp;&nbsp;&lt;header&gt;Paragraph&lt;/header&gt;</span></li>
<li><span style="color: #335533">&nbsp;&nbsp;&nbsp;&nbsp;&lt;paragraph&gt;Some&nbsp;content,&nbsp;with&nbsp;a&nbsp;&lt;link&nbsp;url_id="1"&gt;link&lt;/link&gt;.&lt;/paragraph&gt;</span></li>
<li><span style="color: #335533">&lt;/section&gt;'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Set&nbsp;link&nbsp;provider</span></li>
<li><span style="color: #000000">$converter&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentEzXmlToDocbookConverter.html'>ezcDocumentEzXmlToDocbookConverter</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">linkProvider&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">myLinkProvider</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">convert</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>The link provider is only implemented as a trivial stub, but you can establish a database connection there and actually fetch the required data. I this case the generated docbook document look like:</p><code class="block">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"&gt;
&lt;article xmlns="http://docbook.org/ns/docbook"&gt;
  &lt;section&gt;
    &lt;title&gt;Paragraph&lt;/title&gt;
    &lt;para&gt;Some content, with a &lt;ulink url="http://host/path/1"&gt;link&lt;/ulink&gt;.&lt;/para&gt;
  &lt;/section&gt;
&lt;/article&gt;</code><p>The link provider is set again as a option of the converter. Like shown for the docbook conversions of the other handlers, you can register element handlers for yet unhandled eZ XML elements on the converter, too.</p><a name="wrting-ez-xml"></a><a name="id49"></a><h5>Wrting eZ XML</h5><p>Writing eZ XML works nearly the same as reading. It again uses a XML based element handled, like shown in the Docbook to RST conversion in more detail. For the link conversion an object extending from <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentEzXmlLinkConverter.html'>ezcDocumentEzXmlLinkConverter</a> is used, which returns an array with the attributes of the link in the eZ XML document.</p><a name="wiki-markup"></a><a name="id50"></a><h4>Wiki markup</h4><p>Wiki markup has no central standard, but is used as a term to describe some common subset with lots of different extensions. Most wiki markup languages only support a quite trivial markup with severe limitations on the recursion of markup blocks. For example no markup really tables containing lists, or especially not tables containing other tables.</p><p>The document component implements a generic parser to support multiple wiki markup languages. For each different markup syntax a tokenizer has to be implemented, which converts the implemented markup into a unified token stream, which can then be handled by the generic parser.</p><p>The document component currently supports reading three wiki markup languages, but new ones are added easily by implementing another tokenizer. Supported are:</p><ul><li><p><a href="http://www.wikicreole.org/">Creole</a>, developed by a initiative with the intention to create a unified wiki markup standard. This is the default wiki language, and currently the only one which can be written.</p><p>Creole currently only supports a very limited set of <a href="http://www.wikicreole.org/wiki/Elements">markup</a>, all further markup additions are still up to discussion.</p></li><li><p><a href="http://www.dokuwiki.org/dokuwiki">Dokuwiki</a> is a popular wiki system, for example used on <a href="http://wiki.php.net/">wiki.php.net</a> with a quite different syntax, and the most complete markup support, even including something like footnotes.</p></li><li><p><a href="http://confluence.atlassian.com/renderer/notationhelp.action?section=all">Confluence</a> is a common Java based wiki with an entirely different and most uncommon syntax, which has mainly been implemented to prove the generic nature of the parser.</p></li></ul><p>All markup languages are tested against all examples from the respective markup language documentation, there might still be cases where the parsers of the default implementation behaves slightly different from the implementation in the document component.</p><a name="reading-wiki-markup"></a><a name="id51"></a><h5>Reading wiki markup</h5><p>Reading wiki texts basically works like for any other markup language:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentWiki.html'>ezcDocumentWiki</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadString</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'</span></li>
<li><span style="color: #335533">=&nbsp;Example&nbsp;text&nbsp;=</span></li>
<li></li>
<li><span style="color: #335533">Just&nbsp;some&nbsp;exaple&nbsp;paragraph&nbsp;with&nbsp;a&nbsp;heading,&nbsp;some&nbsp;**emphasis**&nbsp;markup&nbsp;and&nbsp;a</span></li>
<li><span style="color: #335533">[[http://ezcomponents.org|link]].'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>As said, by default the Creoletokenizer is used. The same result can be produced with dokuwiki markup and switching the tokenizer:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentWiki.html'>ezcDocumentWiki</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">tokenizer&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentWikiConfluenceTokenizer.html'>ezcDocumentWikiConfluenceTokenizer</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadString</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'</span></li>
<li><span style="color: #335533">h1.&nbsp;Example&nbsp;text</span></li>
<li></li>
<li><span style="color: #335533">Just&nbsp;some&nbsp;exaple&nbsp;paragraph&nbsp;with&nbsp;a&nbsp;heading,&nbsp;some&nbsp;*emphasis*&nbsp;markup&nbsp;and&nbsp;a</span></li>
<li><span style="color: #335533">[link|http://ezcomponents.org].'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><a name="writing-wiki-markup"></a><a name="id52"></a><h5>Writing wiki markup</h5><p>Until now only writing of creole wiki markup is supported. Since creole does not support a lot of the markup available in docbook, not all documents might get converted properly. Because it does not even support explicit internal references, we cannot even simulate footnotes like in HTML.</p><p>If you want to add support for such conversions, it works exactly like the docbook RST conversion and can be extended the same way.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbook.html'>ezcDocumentDocbook</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'docbook.xml'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentWiki.html'>ezcDocumentWiki</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createFromDocbook</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><a name="pdf"></a><a name="id53"></a><h4>PDF</h4><p>PDF (Portable Document Format) has been developed to provide a document format, which can be presented software and system independent. Because of this it is often used as a pre-print document exchange format.</p><p>The document componen can generate PDF document from all other input formats and offers a language very similar to CSS to apply custom styling to the generated output. Additionally it supports adding custom parts, like footers and headers, to the PDF document.</p><a name="reading-pdf"></a><a name="id54"></a><h5>Reading PDF</h5><p>The document component for now does not support reading PDF documents.</p><a name="writing-pdf"></a><a name="id55"></a><h5>Writing PDF</h5><p>Writing PDF basically works like writing any other format supported by the document component, like the basic example shows:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Convert&nbsp;some&nbsp;input&nbsp;RSTfile&nbsp;to&nbsp;docbook</span></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'./article/introduction.txt'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$pdf&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdf.html'>ezcDocumentPdf</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$pdf</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">errorReporting&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">E_PARSE&nbsp;</span><span style="color: #0000FF">|&nbsp;</span><span style="color: #000000">E_ERROR&nbsp;</span><span style="color: #0000FF">|&nbsp;</span><span style="color: #000000">E_WARNING</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #000000">$pdf</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createFromDocbook</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">()&nbsp;);</span></li>
<li></li>
<li><span style="color: #000000">file_put_contents</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">__FILE__&nbsp;</span><span style="color: #0000FF">.&nbsp;</span><span style="color: #335533">'.pdf'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$pdf&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>First we include some RST file to create a Docbook file from it, because, like described before, Docbook is the central conversion format.</p><p>Afterwards the Docbook document is loaded by the PDF class and saved. When converting the document to a string the PDF is renderer using the default options and the default driver. The result of this rendering call can be watched here: <a href="04_01_create_pdf.pdf">04_01_create_pdf.pdf</a>.</p><a name="output-writers"></a><h6>Output writers</h6><p>Since there are numerous different PDF renderers in the PHP world and the available ones might depend on the current environment, the document component supports different PDF driver, as wrapper around different existent libraries.</p><p>For now two implementation exist for pecl/haru and TCPDF, but it is fairly easy to write another one, for another PDF class.</p><a name="haru"></a><h7>Haru</h7><p><a href="http://libharu.org">libharu</a> is a open source PDF generation library, written in C, and wrapped by the haru PHP extension, available from <a href="http://pecl.php.net/package/haru">PECL</a>. If PEAR is correctly setup on your machine it should install as easy as:</p><code class="block">pear install pecl/haru</code><p>The Haru driver is pretty fast, but currently has issues with some special characters. It is the default driver, but can be explicitly used by setting the driver option on the PDF class, like:</p><code class="block">$pdf = new <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdf.html'>ezcDocumentPdf</a>();
$pdf-&gt;options-&gt;driver = new <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfHaruDriver.html'>ezcDocumentPdfHaruDriver</a>();</code><a name="tcpdf"></a><h7>TCPDF</h7><p>TCPDF is a pure PHP based PDF generation library, available from <a href="http://tcpdf.org">tcpdf.org</a>. To use the TCPDF driver you need to download and include its main class before rendering the PDF. It supports all aspects of PDF rendering required by the document component, but has some bad coding practices, like:</p><ul><li><p>Throws lots of warnings and notices, which you might want to silence by temporarily changing the error reporting level</p></li><li><p>Reads and writes several global variables, which might or might not interfere with your application code</p></li><li><p>Uses eval() in several places, which results in non-cacheable OP-Codes.</p></li></ul><p>The TCPDF driver can be used after including the TCPDF source code, using:</p><code class="block">$pdf = new <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdf.html'>ezcDocumentPdf</a>();
$pdf-&gt;options-&gt;driver = new <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfTcpdfDriver.html'>ezcDocumentPdfTcpdfDriver</a>();</code><a name="styling-the-pdf"></a><h6>Styling the PDF</h6><p>The PDF output can be styled using a CSS like language, which assigns styles based on the Docbook XML structure. The default styling rules are defined in the <a href="https://svn.apache.org/repos/asf/incubator/zetacomponents/trunk/Document/src/pcss/style/default.css">default.css</a>.</p><p>The first most relevant part are the general layout options, which can be defined for the common article root node in the Docbook XML file. You can set global font options there, like:</p><code class="block">article {
    // Basic font style definitions
    font-size:   "12pt";
    font-family: "serif";
    font-weight: "normal";
    font-style:  "normal";
    line-height: "1.4";
    text-align:  "left";

    // Basic page layout definitions
    text-columns: "1";
    text-column-spacing: "10mm";

    // General text layout options
    orphans: "3";
    widows:  "3";
}</code><p>The meaning of the first set of options should be obvious from CSS. We require each value to be wrapped by quotes for easier parsing, though.</p><p>The second set of options defines options for multi-column layouts, which are not available in the web, but quite common in generated PDF documents. You can specify the number of text columns, as well as the distance between the text columns here.</p><p>The third set in this example defines lesser known text layout options like the handling of <a href="http://en.wikipedia.org/wiki/Widows_and_orphans">orphans and widows</a>, which specify the handling of overlapping parts of paragraphs on page wrapping.</p><p>You can, of course, apply those styles to any elements in your document, using the common CSS addressing rules, like:</p><code class="block">// Emphasis node anywhere in the document
emphasis { ... }

// Title element directly below a section element
section &gt; title { ... }

// Title element anywhere below a section element
section title { ... }

// Title element with the ID "first_title"
title#first_title { ... }

// Title element with the class "foo"
title.foo { ... }

// emphasis node directly below a title with class "foo", anywhere in a
// section with the ID "first"
section#first title.foo &gt; emphasis { ... }</code><p>The values and <a href="measures">measures</a> for the properties are very similar to the properties in CSS. For example the margin and padding properties accept one- to four-tuples of values, with the same respective meaning like in CSS.</p><p>Another central formatting element, which is special to the PDF generation, is the virtual element "page":</p><code class="block">page {
    page-size: "A4";
    page-orientation: "portrait";
    padding: "22mm 16mm";
}</code><p>The page-size property accepts several known page size identifiers and the page-orientation defines the orientation of a page. You can also address any page directly by its ID, which will be 'page_1' for the first page, or its class, which will be "right", or "left", depending on the current page number.</p><p>A detailed description of all available <a href="Document_styles.html">PDF style options</a> is available <a href="Document_styles.html">here</a>.</p><a name="measures"></a><h7>Measures</h7><p>The properties in the PDF component accept different measures, which are:</p><ul><li><p>"mm", Millimeters, the default measure, if none is specified</p></li><li><p>"pt", Points, 72 points per inch</p></li><li><p>"px", Pixel, depends on the set resolution, by default also 72 points per inch</p></li><li><p>"in", Inch</p></li></ul><p>The unit "Points" is most common for font sizes, while millimeters or inches will probably more useful for page paddings. You are free to choose any of them and can even combine different units in one tuple, like:</p><code class="block">para {
    // Top margin: 12 mm; Right margin: .1 inch; Bottom margin: 10 points,
    // Left margin: 1 pixel
    margin: "12 .1in 10pt 1px";
}</code><a name="pdf-parts"></a><h6>PDF parts</h6><p>PDF parts are additional parts in a rendered document, like headers and footers. You can implement and register them yourself, and they are activated by different triggers, like:</p><ul><li><p>on document creation</p></li><li><p>on page creation</p></li><li><p>when a document has been finished</p></li></ul><p>The default implementation for headers and footers is triggered on page creation and renders the title of the document, its author and a page number in the header or the footer. To develop a custom PDF part you should extend from the <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfPart.html'>ezcDocumentPdfPart</a> class.</p><p>For the following document we are using a set of custom styles, as well as a header and a footer to customize the rendered PDF document. The additional custom CSS changes the default font and the page border:</p><code class="block">article {
    font-family: "sans-serif";
    font-size: "10pt";
}

page {
    padding: "15mm 30mm";
}
</code><p>The code using the custom CSS and headers and footers then looks like:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Convert&nbsp;some&nbsp;input&nbsp;RSTfile&nbsp;to&nbsp;docbook</span></li>
<li><span style="color: #000000">$document&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentRst.html'>ezcDocumentRst</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'./article/introduction.txt'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Load&nbsp;the&nbsp;docbook&nbsp;document&nbsp;and&nbsp;create&nbsp;a&nbsp;PDF&nbsp;from&nbsp;it</span></li>
<li><span style="color: #000000">$pdf&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdf.html'>ezcDocumentPdf</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$pdf</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">errorReporting&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">E_PARSE&nbsp;</span><span style="color: #0000FF">|&nbsp;</span><span style="color: #000000">E_ERROR&nbsp;</span><span style="color: #0000FF">|&nbsp;</span><span style="color: #000000">E_WARNING</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Load&nbsp;a&nbsp;custom&nbsp;style&nbsp;sheet</span></li>
<li><span style="color: #000000">$pdf</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadStyles</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'custom.css'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Add&nbsp;a&nbsp;customized&nbsp;footer</span></li>
<li><span style="color: #000000">$pdf</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">registerPdfPart</span><span style="color: #0000FF">(&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfFooterPdfPart.html'>ezcDocumentPdfFooterPdfPart</a></span><span style="color: #0000FF">(</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfFooterOptions.html'>ezcDocumentPdfFooterOptions</a></span><span style="color: #0000FF">(&nbsp;array(&nbsp;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">'showDocumentTitle'&nbsp;&nbsp;</span><span style="color: #0000FF">=&gt;&nbsp;</span><span style="color: #000000">false</span><span style="color: #0000FF">,</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">'showDocumentAuthor'&nbsp;</span><span style="color: #0000FF">=&gt;&nbsp;</span><span style="color: #000000">false</span><span style="color: #0000FF">,</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">'height'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF">=&gt;&nbsp;</span><span style="color: #335533">'10mm'</span><span style="color: #0000FF">,</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;)</span></li>
<li><span style="color: #0000FF">)&nbsp;);</span></li>
<li></li>
<li><span style="color: #007700">//&nbsp;Add&nbsp;a&nbsp;customized&nbsp;header</span></li>
<li><span style="color: #000000">$pdf</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">registerPdfPart</span><span style="color: #0000FF">(&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfHeaderPdfPart.html'>ezcDocumentPdfHeaderPdfPart</a></span><span style="color: #0000FF">(</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfFooterOptions.html'>ezcDocumentPdfFooterOptions</a></span><span style="color: #0000FF">(&nbsp;array(&nbsp;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">'showPageNumber'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF">=&gt;&nbsp;</span><span style="color: #000000">false</span><span style="color: #0000FF">,</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">'height'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF">=&gt;&nbsp;</span><span style="color: #335533">'10mm'</span><span style="color: #0000FF">,</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;)</span></li>
<li><span style="color: #0000FF">)&nbsp;);</span></li>
<li></li>
<li><span style="color: #000000">$pdf</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createFromDocbook</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$document</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">()&nbsp;);</span></li>
<li><span style="color: #000000">file_put_contents</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">__FILE__&nbsp;</span><span style="color: #0000FF">.&nbsp;</span><span style="color: #335533">'.pdf'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$pdf&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>The first part, the creation of a Docbook document from a RST document is just the same like in the first example.</p><p>Afterwards we load the above mentioned custom.css as an additional style. You can load as many styles as you want. If multiple styles are loaded, the latter ones always (partly) redefine the first styles.</p><p>After that two custom PDF parts are registered using their respective option class to configure their skin. The footer should only show the page number, while the header should display all parts (title and author), but the page number.</p><p>At the end of the example the document is created as usual, and looks like this: <a href="04_02_create_pdf_styled.pdf">04_02_create_pdf_styled.pdf</a> Since the source document does not include any author information, this information is also not rendered in the header.</p><a name="hyphenating"></a><h6>Hyphenating</h6><p>Proper hyphenation is crucial for nice text rendering especially for justified paragraph formatting. Since hyphenation is highly language dependent you can create and use your own custom hyphenator - the default one doesn't do any hyphenation by default, but just keeps every word as it is.</p><p>Custom hyphenators can be implemented by extending from the abstract class <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfHyphenator.html'>ezcDocumentPdfHyphenator</a>. The only need to implement one Method, <code class="inline">`splitWord()`</code>, which should return possible splitting points of the given word, as documented in the <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfHyphenator.html'>ezcDocumentPdfHyphenator</a> class.</p><p>The custom hyphenator can be configured in the <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdfOptions.html'>ezcDocumentPdfOptions</a> class, like this:</p><code class="block">$pdf = new <a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentPdf.html'>ezcDocumentPdf</a>();
$pdf-&gt;options-&gt;hyphenator = new myHyphenator();</code><p>The hyphenator will then be used by all text renderers during the rendering process.</p><a name="open-document-text"></a><a name="id56"></a><h4>Open Document Text</h4><p>The Open Document Text (ODT) format is natively provided by the <a href="https://svn.apache.org/repos/asf/incubator/zetacomponents/trunk/Document/src/pcss/style/default.css">OpenOffice.org</a> office application suite and supported by other common word processing tools. The Document component supports importing, exporting and styling of ODT files.</p><div class="note"><p>By now only im- and export of flat ODT (.fodt) files is possible. These can be processed by OpenOffice.org natively. To store FODT, simply choose the file type from the save dialog.</p></div><a name="reading-odt"></a><a name="id57"></a><h5>Reading ODT</h5><p>The ODT document class reads FODT files and converts them into the internal Docbook representation of the Document component:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$odt&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentOdt.html'>ezcDocumentOdt</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$odt</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'simple.fodt'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$odt</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">getAsDocbook</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>You can generate any of the supported document formats from the Docbook representation.</p><p>FODT files may contain embedded media files, i.e. usually images, which will be extracted during the import process. You can specify the directory where these images will be stored through the <code class="inline">`imageDir`</code> option:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #000000">$odt</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">imageDir&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #335533">'/path/to/your/images'</span><span style="color: #0000FF">;</span></li>
<span style="color: #000000">?&gt;</span>
</ol><p>The default is your systems temporary directory.</p><p>Since Open Document only contains few semantical information compared to Docbook, the import mechanism performs heuristic detection of information like emphasized text.  This mechanism is quite rudimentary by now and will be made available as a public API as it matured.</p><a name="writing-odt"></a><a name="id58"></a><h5>Writing ODT</h5><p>FODT files can be written similar to any of the other formats supported by the Document component:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbook.html'>ezcDocumentDocbook</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'docbook.xml'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$odt&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentOdt.html'>ezcDocumentOdt</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$odt</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">createFromDocbook</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$odt</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><a name="styling-odt"></a><a name="id59"></a><h5>Styling ODT</h5><p>FODT output can be styled using a CSS like language similar to <a href="#styling-the-pdf">Styling the PDF</a>. Using simplified CSS you assign style rules to Docbook XML elements, which are generated into automatic styles in the resulting Open Document. The default styling rules (<a href="Document_styles.html">default.css</a>) are the same as for PDF.</p><p>Applying custom styles can be done as follows:</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li></li>
<li><span style="color: #0000FF">require&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbook.html'>ezcDocumentDocbook</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$docbook</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">loadFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'docbook.xml'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$converter&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/Document/phpdoc/ezcDocumentDocbookToOdtConverter.html'>ezcDocumentDocbookToOdtConverter</a></span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">options</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">styler</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">addStylesheetFile</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'custom.css'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$odt&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$converter</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">convert</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$docbook&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #0000FF">echo&nbsp;</span><span style="color: #000000">$odt</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">save</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>A detailed description of the available style options is available <a href="Document_styles.html">here</a>.</p><!--Local Variables:
mode: rst
fill-column: 79
End:
vim: et syn=rst tw=79-->

	</div>

	<div class="footer">
	
</div>
</div>
</body>
</html>
