<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Apache Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="" />
	<meta name="author" content="jerome" />
	<meta name="language" content="en" />
	<meta name="date" content="Sun, 10 Jul 2011 11:11:01 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcMailMultipartRelated.html" />
	<meta name="DC.creator" content="jerome" />
	<meta name="DC.date" content="Sun, 10 Jul 2011 11:11:01 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/zetacomponents/documentation/trunk/Mail/phpdoc/ezcMailMultipartRelated.rdf" />
	<link rel="icon" href="/zetacomponents/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/zetacomponents/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/zetacomponents/styles/print.css" media="print" />


	<title>Apache Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="/zetacomponents" title="Apache Zeta Components - high quality PHP components">
			Apache Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/zetacomponents/news.html" title="About">About</a>
	</li>
<li >
	<a href="/zetacomponents/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/zetacomponents/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/zetacomponents/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/zetacomponents/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/zetacomponents/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/zetacomponents/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/zetacomponents/documentation/trunk/Mail/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/zetacomponents/documentation/trunk/Mail/phpdoc/classtrees.html" title="API">API</a>
	</li>
<li >
	<a href="/zetacomponents/documentation/trunk/Mail/mail-listing-example.html" title="Mail-listing-example ">Mail-listing-example </a>
	</li>
<li >
	<a href="/zetacomponents/documentation/trunk/Mail/display-example.html" title="Display-example ">Display-example </a>
	</li>
<li >
	<a href="/zetacomponents/documentation/trunk/Mail/rfcs.html" title="Rfcs ">Rfcs </a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Apache Zeta Components Manual :: Docs For Class ezcMailMultipartRelated</h2>

                  <h3>Mail::ezcMailMultipartRelated</h3>
    
<a name="sec-description"></a>
<h3>Class ezcMailMultipartRelated</h3>

<p>ezcMailMultipartRelated is intended for mail parts consisting of  several inter-related body parts.</p><div><p>A typical example is an HTML mail with embedded images.  When you want to refer to a related part you can use content id's  (cid). Set the 'Content-ID' header of the related part to a valid  unique url-addr-spec (specified by RFC 822) and refer to it through  the form cid:unique-string.</p><p>Example:  This example shows how you can use ezcMailMultipartRelated to create an  HTML mail with an inline image.  </p><ol><li><div class="src-line">&#8192;<span class="src-var">$mail&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcMail.html">ezcMail</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$mail</span><span class="src-sym">-&gt;</span><span class="src-id">from&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcMailAddress.html">ezcMailAddress</a></span><span class="src-sym">(&#8192;</span><span class="src-str">'sender@example.com'</span><span class="src-sym">,&#8192;</span><span class="src-str">'Adrian&#8192;Ripburger'&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$mail</span><span class="src-sym">-&gt;</span><span class="src-id">addTo</span><span class="src-sym">(&#8192;</span><span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcMailAddress.html">ezcMailAddress</a></span><span class="src-sym">(&#8192;</span><span class="src-str">'receiver@example.com'</span><span class="src-sym">,&#8192;</span><span class="src-str">'Maureen&#8192;Corley'&#8192;</span><span class="src-sym">)&#8192;)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$mail</span><span class="src-sym">-&gt;</span><span class="src-id">subject&#8192;</span>=&#8192;<span class="src-str">"Example&#8192;of&#8192;an&#8192;HTML&#8192;email&#8192;with&#8192;attachments"</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$htmlText&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcMailText.html">ezcMailText</a></span><span class="src-sym">(&#8192;</span><span class="src-str">"&lt;html&gt;Image&#8192;&lt;img&#8192;src='cid:image@12345'&#8192;/&gt;&lt;/html&gt;"&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$htmlText</span><span class="src-sym">-&gt;</span><span class="src-id">subType&#8192;</span>=&#8192;<span class="src-str">'html'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$image&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcMailFile.html">ezcMailFile</a></span><span class="src-sym">(&#8192;</span><span class="src-str">"path_to_my_image.jpg"&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$image</span><span class="src-sym">-&gt;</span><span class="src-id">contentId&#8192;</span>=&#8192;<span class="src-str">'image@12345'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$mail</span><span class="src-sym">-&gt;</span><span class="src-id">body&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcMailMultipartRelated.html">ezcMailMultipartRelated</a></span><span class="src-sym">(&#8192;</span><span class="src-var">$htmlText</span><span class="src-sym">,&#8192;</span><span class="src-var">$image&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/Mail/src/parts/multiparts/multipart_related.php?r=HEAD">/Mail/src/parts/multiparts/multipart_related.php</a></p>
       


<pre><a href="ezcMailPart.html">ezcMailPart</a>
   |
   --<a href="ezcMailMultipart.html">ezcMailMultipart</a>
      |
      --ezcMailMultipartRelated</pre>


  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogen//</td>
        </tr></table><a name="sec-inherited-consts"></a>
  <h3>Inherited Constants</h3>
  <table class="summary"><thead><tr><th colspan="2">
              From <span class="classname"><a href="ezcMailMultipart.html">ezcMailMultipart</a></span>:
            </th>
          </tr></thead><tbody><tr><td class="right">
                <code><a href="ezcMailMultipart.html#constDEFAULT_NO_MIME_MESSAGE">ezcMailMultipart::DEFAULT_NO_MIME_MESSAGE</a></code>
              </td>
              <td>
                &#8192;&#8192;&#8192;Default message displayed to non-MIME capable email clients.              </td>
            </tr></tbody></table><h3>Inherited Member Variables</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcMailMultipart.html">ezcMailMultipart</a></span>         
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcMailMultipart.html#var%24parts">ezcMailMultipart::$parts</a></code>
              
            </td>
          </tr></tbody><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcMailPart.html">ezcMailPart</a></span>         
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcMailPart.html#var%24properties">ezcMailPart::$properties</a></code>
              
            </td>
          </tr></tbody></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>public</em>                        <em>ezcMailMultipartRelated</em>          </td>
          <td>
            <code>
              <a href="#__construct"><b>__construct</b></a>(
                                                                                    $...
                                                 )
            </code>
            <br><div style="margin-left: 20px">Constructs a new ezcMailMultipartRelated.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#addRelatedPart"><b>addRelatedPart</b></a>(
                                                                                    $part
                                                 )
            </code>
            <br><div style="margin-left: 20px">Adds $part to the list of parts and returns the Content-ID of the part.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array(ezcMailPart)</em>          </td>
          <td>
            <code>
              <a href="#getMainPart"><b>getMainPart</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the main part of this multipart or null if there is no such part.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em><a href="ezcMailPart.html">ezcMailPart</a></em>          </td>
          <td>
            <code>
              <a href="#getRelatedPartByID"><b>getRelatedPartByID</b></a>(
                                                                                    $cid
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns the part associated with the passed Content-ID.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array(ezcMailPart)</em>          </td>
          <td>
            <code>
              <a href="#getRelatedParts"><b>getRelatedParts</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the mail parts associated with this multipart.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#multipartType"><b>multipartType</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns "related".</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#setMainPart"><b>setMainPart</b></a>(
                                                                                    $part
                                                 )
            </code>
            <br><div style="margin-left: 20px">Sets the main part $part of this alternative multipart.</div>          </td>
        </tr></table><h3>Inherited Methods</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcMailMultipart.html">ezcMailMultipart</a></span>
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>public</em>                                          <em>ezcMailMultipart</em>            </td>
            <td>
              <code><b><a href="ezcMailMultipart.html#method__construct">ezcMailMultipart::__construct()</a></b></code>
              <br><div style="margin-left: 20px">Constructs a new ezcMailMultipart with the parts $parts.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>string</em>            </td>
            <td>
              <code><b><a href="ezcMailMultipart.html#methodgenerateBody">ezcMailMultipart::generateBody()</a></b></code>
              <br><div style="margin-left: 20px">Returns the generated body for all multipart types.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                            static              <em>string</em>            </td>
            <td>
              <code><b><a href="ezcMailMultipart.html#methodgenerateBoundary">ezcMailMultipart::generateBoundary()</a></b></code>
              <br><div style="margin-left: 20px">Returns a unique boundary string.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>string</em>            </td>
            <td>
              <code><b><a href="ezcMailMultipart.html#methodmultipartType">ezcMailMultipart::multipartType()</a></b></code>
              <br><div style="margin-left: 20px">Returns the type of multipart.</div>                          </td>
          </tr></tbody><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcMailPart.html">ezcMailPart</a></span>
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>public</em>                                          <em>ezcMailPart</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#method__construct">ezcMailPart::__construct()</a></b></code>
              <br><div style="margin-left: 20px">Constructs a new mail part.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodappendExcludeHeaders">ezcMailPart::appendExcludeHeaders()</a></b></code>
              <br><div style="margin-left: 20px">The array $headers will be excluded when the headers are generated.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>string</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodgenerate">ezcMailPart::generate()</a></b></code>
              <br><div style="margin-left: 20px">Returns the complete mail part including both the header and the body  as a string.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>string</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodgenerateBody">ezcMailPart::generateBody()</a></b></code>
              <br><div style="margin-left: 20px">Returns the body of this part as a string.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>string</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodgenerateHeaders">ezcMailPart::generateHeaders()</a></b></code>
              <br><div style="margin-left: 20px">Returns the headers set for this part as a RFC 822 string.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>mixed</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodgetHeader">ezcMailPart::getHeader()</a></b></code>
              <br><div style="margin-left: 20px">Returns the RAW value of the header $name.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>string</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodgetHeaderCharset">ezcMailPart::getHeaderCharset()</a></b></code>
              <br><div style="margin-left: 20px">Returns the charset registered for the header $name.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodsetHeader">ezcMailPart::setHeader()</a></b></code>
              <br><div style="margin-left: 20px">Sets the header $name to the value $value and its charset to $charset.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodsetHeaderCharset">ezcMailPart::setHeaderCharset()</a></b></code>
              <br><div style="margin-left: 20px">Sets the charset of the header $name to $value.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcMailPart.html#methodsetHeaders">ezcMailPart::setHeaders()</a></b></code>
              <br><div style="margin-left: 20px">Adds the headers $headers.</div>                          </td>
          </tr></tbody></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
              
      <a name="method__construct" id="__construct"><!-- --></a>

    <h4>__construct</h4>

    <div class="method-signature">
      ezcMailMultipartRelated
      __construct(
                                  <a href="ezcMailPart.html">ezcMailPart</a>|array(ezcMailPart)
          $...
                        )
    </div>

    <p>Constructs a new ezcMailMultipartRelated.</p><div><p>The constructor accepts an arbitrary number of ezcMailParts or arrays with ezcMailparts.  Parts are added in the order provided and the first part will be recognized  as the main body. Parameters of the wrong type are ignored.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$...</code></td>
              <td><em><a href="ezcMailPart.html">ezcMailPart</a>|array(ezcMailPart)</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcMailMultipart.html#method__construct">ezcMailMultipart::__construct()</a></code></td>
            <td>
                              Constructs a new ezcMailMultipart with the parts $parts.
                          </td>
          </tr></tbody></table><a name="methodaddRelatedPart" id="addRelatedPart"><!-- --></a>

    <h4>addRelatedPart</h4>

    <div class="method-signature">
      string
      addRelatedPart(
                                  <a href="ezcMailPart.html">ezcMailPart</a>
          $part
                        )
    </div>

    <p>Adds $part to the list of parts and returns the Content-ID of the part.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$part</code></td>
              <td><em><a href="ezcMailPart.html">ezcMailPart</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodgetMainPart" id="getMainPart"><!-- --></a>

    <h4>getMainPart</h4>

    <div class="method-signature">
      array(ezcMailPart)
      getMainPart(
      )
    </div>

    <p>Returns the main part of this multipart or null if there is no such part.</p>
    
        

    
    
    
        <a name="methodgetRelatedPartByID" id="getRelatedPartByID"><!-- --></a>

    <h4>getRelatedPartByID</h4>

    <div class="method-signature">
      <a href="ezcMailPart.html">ezcMailPart</a>
      getRelatedPartByID(
                                  string
          $cid
                        )
    </div>

    <p>Returns the part associated with the passed Content-ID.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$cid</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodgetRelatedParts" id="getRelatedParts"><!-- --></a>

    <h4>getRelatedParts</h4>

    <div class="method-signature">
      array(ezcMailPart)
      getRelatedParts(
      )
    </div>

    <p>Returns the mail parts associated with this multipart.</p>
    
        

    
    
    
        <a name="methodmultipartType" id="multipartType"><!-- --></a>

    <h4>multipartType</h4>

    <div class="method-signature">
      string
      multipartType(
      )
    </div>

    <p>Returns "related".</p>
    
        

          <h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcMailMultipart.html#methodmultipartType">ezcMailMultipart::multipartType()</a></code></td>
            <td>
                              Returns the type of multipart.
                          </td>
          </tr></tbody></table><a name="methodsetMainPart" id="setMainPart"><!-- --></a>

    <h4>setMainPart</h4>

    <div class="method-signature">
      void
      setMainPart(
                                  <a href="ezcMailPart.html">ezcMailPart</a>
          $part
                        )
    </div>

    <p>Sets the main part $part of this alternative multipart.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$part</code></td>
              <td><em><a href="ezcMailPart.html">ezcMailPart</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	Copyright © 2010 <a href="http://apache.org">The Apache Software Foundation</a>
</div>
</div>
</body>
</html>
