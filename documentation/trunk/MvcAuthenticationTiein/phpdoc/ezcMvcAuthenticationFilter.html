<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="dotxp" />
	<meta name="language" content="en" />
	<meta name="date" content="Wed, 04 Aug 2010 13:07:49 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcMvcAuthenticationFilter.html" />
	<meta name="DC.creator" content="dotxp" />
	<meta name="DC.date" content="Wed, 04 Aug 2010 13:07:49 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/documentation/trunk/MvcAuthenticationTiein/phpdoc/ezcMvcAuthenticationFilter.rdf" />
	<link rel="icon" href="/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css" media="print" />


	<title>Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="" title="Zeta Components - high quality PHP components">
			Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/news.html" title="About">About</a>
	</li>
<li >
	<a href="/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li class="requested">
	<a href="/documentation/trunk/MvcAuthenticationTiein/phpdoc/classtrees.html" title="API">API</a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Zeta Components Manual :: Docs For Class ezcMvcAuthenticationFilter</h2>

                  <h3>MvcAuthenticationTiein::ezcMvcAuthenticationFilter</h3>
    
<a name="sec-description"></a>
<h3>Class ezcMvcAuthenticationFilter</h3>

<p>This class provides a filter that applications can use for authentication.</p><div><p>Through the $options argument to the controller you can configure many  aspects of this filter. By default a few settings are made that setup table  names and fields names, as well as names of variables under which certain  bits of the filter will be available in the controller's actions. The filter  needs to be integrated in both the applications configuration (through an  implementation of ezcMvcDispatcherConfiguration) as well as in the  controller handling authentication actions. Please refer to the tutorial on  how to do this.</p><p>Some of the defaults provided in this filter can easily be changed by  inheriting. For example if you want to change the password generation  algorithm you need to override generatePassword(). Another example is when  you want other authentication methods besides session and database. In that  case setupAuth() needs to be overridden in an inherited class.</p></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/MvcAuthenticationTiein/src/filter.php?r=HEAD">/MvcAuthenticationTiein/src/filter.php</a></p>
       




  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogentag//</td>
        </tr></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>public</em>                        <em>ezcMvcAuthenticationFilter</em>          </td>
          <td>
            <code>
              <a href="#__construct"><b>__construct</b></a>(
                                                                  [                  $options
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Constructs a new ezcMvcAuthenticationFilter object</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>bool</em>          </td>
          <td>
            <code>
              <a href="#checkUserExists"><b>checkUserExists</b></a>(
                                                                                    $username
                                                 )
            </code>
            <br><div style="margin-left: 20px">Checks whether a user exists in the database.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#createUser"><b>createUser</b></a>(
                                                                                    $username
                                                    ,                                     $password
                                                    ,                                     $extraInfo
                                                 )
            </code>
            <br><div style="margin-left: 20px">Creates an entry in the user database table for $username and $password.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#fetchUserName"><b>fetchUserName</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the username associated with the user ID as stored in the session.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#generatePassword"><b>generatePassword</b></a>(
                                                                                    $username
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns a generated basic password depending on the $username.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em><a href="ezcMvcAuthenticationFilterOptions.html">ezcMvcAuthenticationFilterOptions</a></em>          </td>
          <td>
            <code>
              <a href="#getOptions"><b>getOptions</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the currently set options</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#hashPassword"><b>hashPassword</b></a>(
                                                                                    $password
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns the hashed version of the clear text password</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#login"><b>login</b></a>(
                                                                                    $request
                                                    ,                                     $user
                                                    ,                                     $password
                                                 )
            </code>
            <br><div style="margin-left: 20px">Method to be called from the controller's login action to log a user in.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#logout"><b>logout</b></a>(
                                                                                    $request
                                                 )
            </code>
            <br><div style="margin-left: 20px">Method to be called from the controller's logout action to log a user out.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#processLoginRequired"><b>processLoginRequired</b></a>(
                                                                                    $res
                                                    ,                                     $reasons
                                                    ,                   [                  $errorMap
                   = null]                                  ,                                     $result
                                                 )
            </code>
            <br><div style="margin-left: 20px">Checks the status from the authentication run and adds the reasons as  variable to the $result.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcInternalRedirect.html">ezcMvcInternalRedirect</a>|<a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a></em>          </td>
          <td>
            <code>
              <a href="#returnLoginRedirect"><b>returnLoginRedirect</b></a>(
                                                                                    $authentication
                                                    ,                                     $request
                                                    ,                                     $redirUrl
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns either an internal or external redirect depending on whether the  user authenticated succesfully.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a></em>          </td>
          <td>
            <code>
              <a href="#returnLogoutRedirect"><b>returnLogoutRedirect</b></a>(
                                                                                    $request
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns an external redirect depending to the configured logoutUri.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#runAuthCheckLoggedIn"><b>runAuthCheckLoggedIn</b></a>(
                                                                                    $request
                                                 )
            </code>
            <br><div style="margin-left: 20px">Sets up the authentication mechanism to be used for routes that do not require authentication.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#runAuthRequiredFilter"><b>runAuthRequiredFilter</b></a>(
                                                                                    $request
                                                 )
            </code>
            <br><div style="margin-left: 20px">Sets up the authentication mechanism to be used for routes that do require authentication.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#setOptions"><b>setOptions</b></a>(
                                                                                    $options
                                                 )
            </code>
            <br><div style="margin-left: 20px">Sets a new options object</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em><a href="/documentation/trunk/Authentication/phpdoc/ezcAuthentication.html">ezcAuthentication</a></em>          </td>
          <td>
            <code>
              <a href="#setupAuth"><b>setupAuth</b></a>(
                                                                  [                  $user
                   = null]                                  ,                   [                  $password
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">This method sets up the authentication mechanism.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#setVars"><b>setVars</b></a>(
                                                                                    $requestOrResult
                                                 )
            </code>
            <br><div style="margin-left: 20px">This method sets the user ID and user name variables as part of the  $request and $result objects.</div>          </td>
        </tr></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
                                  
      <a name="method__construct" id="__construct"><!-- --></a>

    <h4>__construct</h4>

    <div class="method-signature">
      ezcMvcAuthenticationFilter
      __construct(
                                  [<a href="ezcMvcAuthenticationFilterOptions.html">ezcMvcAuthenticationFilterOptions</a>
          $options
           = null]              )
    </div>

    <p>Constructs a new ezcMvcAuthenticationFilter object</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$options</code></td>
              <td><em><a href="ezcMvcAuthenticationFilterOptions.html">ezcMvcAuthenticationFilterOptions</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodcheckUserExists" id="checkUserExists"><!-- --></a>

    <h4>checkUserExists</h4>

    <div class="method-signature">
      bool
      checkUserExists(
                                  string
          $username
                        )
    </div>

    <p>Checks whether a user exists in the database.</p><div><p>This method should be called from the "register" action to see if the  requested user ID has already been registered or not.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$username</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodcreateUser" id="createUser"><!-- --></a>

    <h4>createUser</h4>

    <div class="method-signature">
      void
      createUser(
                                  string
          $username
                            ,           string
          $password
                            ,           
          $extraInfo
                        )
    </div>

    <p>Creates an entry in the user database table for $username and $password.</p><div><p>This method creates a user in the configured user table (through the  options for this class). You can specify extra information as a  key-&gt;value pair array as $extraInfo.  This method does *not* check  whether a user already exists.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$username</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$password</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$extraInfo</code></td>
              <td><em>array(string=&gt;mixed)</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodfetchUserName" id="fetchUserName"><!-- --></a>

    <h4>fetchUserName</h4>

    <div class="method-signature">
      string
      fetchUserName(
      )
    </div>

    <p>Returns the username associated with the user ID as stored in the session.</p><div><p>This method could be a likely candidate to override as well, although it  is as configurable as possible. If usernames are not stored in the  database, this method needs to be overridden as well. The method's  return value is used by the setVars() method to add user ID and user  name to the session so that the application can use this data.</p></div>
    
        

    
    
    
        <a name="methodgeneratePassword" id="generatePassword"><!-- --></a>

    <h4>generatePassword</h4>

    <div class="method-signature">
      string
      generatePassword(
                                  string
          $username
                        )
    </div>

    <p>Returns a generated basic password depending on the $username.</p><div><p>This method is typically called from the "register" action after a user  ID has been checked for existance.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$username</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodgetOptions" id="getOptions"><!-- --></a>

    <h4>getOptions</h4>

    <div class="method-signature">
      <a href="ezcMvcAuthenticationFilterOptions.html">ezcMvcAuthenticationFilterOptions</a>
      getOptions(
      )
    </div>

    <p>Returns the currently set options</p>
    
        

    
    
    
        <a name="methodhashPassword" id="hashPassword"><!-- --></a>

    <h4>hashPassword</h4>

    <div class="method-signature">
      string
      hashPassword(
                                  string
          $password
                        )
    </div>

    <p>Returns the hashed version of the clear text password</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$password</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodlogin" id="login"><!-- --></a>

    <h4>login</h4>

    <div class="method-signature">
      void
      login(
                                  
          $request
                            ,           string
          $user
                            ,           string
          $password
                        )
    </div>

    <p>Method to be called from the controller's login action to log a user in.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$request</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a></em></td>
              <td>
                              </td>
            </tr><tr><td><code>$user</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$password</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodlogout" id="logout"><!-- --></a>

    <h4>logout</h4>

    <div class="method-signature">
      void
      logout(
                                  
          $request
                        )
    </div>

    <p>Method to be called from the controller's logout action to log a user out.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$request</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodprocessLoginRequired" id="processLoginRequired"><!-- --></a>

    <h4>processLoginRequired</h4>

    <div class="method-signature">
      void
      processLoginRequired(
                                  
          $res
                            ,           array(string)
          $reasons
                            ,           [array(string=&gt;array(int=&gt;string)
          $errorMap
           = null]                  ,           <a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a>
          $result
                        )
    </div>

    <p>Checks the status from the authentication run and adds the reasons as  variable to the $result.</p><div><p>This method uses the information that is set by the  runAuthRequiredFilter() filter to generate an user-readable text of the  found $reasons and sets these as the variable ezcAuth_reasons in  the $result. You can supply your own mapping from status codes to  messages, but a default is provided. Please refer to the Authentication  tutorial for information about status codes.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$result</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a></em></td>
              <td>
                              </td>
            </tr><tr><td><code>$reasons</code></td>
              <td><em>array(string)</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$errorMap</code></td>
              <td><em>array(string=&gt;array(int=&gt;string)</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$res</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodreturnLoginRedirect" id="returnLoginRedirect"><!-- --></a>

    <h4>returnLoginRedirect</h4>

    <div class="method-signature">
      <a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcInternalRedirect.html">ezcMvcInternalRedirect</a>|<a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a>
      returnLoginRedirect(
                                  
          $authentication
                            ,           
          $request
                            ,           string
          $redirUrl
                        )
    </div>

    <p>Returns either an internal or external redirect depending on whether the  user authenticated succesfully.</p><div><p>This method is run from the "login" action just after login() has been  called. It takes the $authentication object, the $request and the form  provided $redirUrl. It redirects upon failure to the configured  loginRequiredUri and upon succes to the provided $redirUrl. The  redirection happens by returning an ezcMvcInternalRedirect or  ezcMvcResult with a ezcMvcExternalRedirect status.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$authentication</code></td>
              <td><em><a href="/documentation/trunk/Authentication/phpdoc/ezcAuthentication.html">ezcAuthentication</a></em></td>
              <td>
                              </td>
            </tr><tr><td><code>$request</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a></em></td>
              <td>
                              </td>
            </tr><tr><td><code>$redirUrl</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodreturnLogoutRedirect" id="returnLogoutRedirect"><!-- --></a>

    <h4>returnLogoutRedirect</h4>

    <div class="method-signature">
      <a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a>
      returnLogoutRedirect(
                                  
          $request
                        )
    </div>

    <p>Returns an external redirect depending to the configured logoutUri.</p><div><p>This method is run from the "logout" action just after logout() has been  called. It takes the $request object as parameter although this is not  used by this default implementation.  The method returns an  ezcMvcRequest result with a ezcMvcExternalRedirect status to redirect to  the configured logoutUri.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$request</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodrunAuthCheckLoggedIn" id="runAuthCheckLoggedIn"><!-- --></a>

    <h4>runAuthCheckLoggedIn</h4>

    <div class="method-signature">
      void
      runAuthCheckLoggedIn(
                                  
          $request
                        )
    </div>

    <p>Sets up the authentication mechanism to be used for routes that do not require authentication.</p><div><p>This method is meant to be run from the runRequestFilters() method for  the routes that do not require authentication or deal with logging in,  logging out and registering users. It sets up the session so that the  controller has access to the authentication data.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$request</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodrunAuthRequiredFilter" id="runAuthRequiredFilter"><!-- --></a>

    <h4>runAuthRequiredFilter</h4>

    <div class="method-signature">
      void
      runAuthRequiredFilter(
                                  <a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a>
          $request
                        )
    </div>

    <p>Sets up the authentication mechanism to be used for routes that do require authentication.</p><div><p>This method is meant to be run from the runRequestFilters() method for  the routes that do require an authenticated user.  It sets up the  session so that the controller has access to the authentication data.  The method will return an internal redirect return that redirects to the  configured loginRequiredUri. That Uri's controller and action needs to  present the login form.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$request</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodsetOptions" id="setOptions"><!-- --></a>

    <h4>setOptions</h4>

    <div class="method-signature">
      void
      setOptions(
                                  <a href="ezcMvcAuthenticationFilterOptions.html">ezcMvcAuthenticationFilterOptions</a>
          $options
                        )
    </div>

    <p>Sets a new options object</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$options</code></td>
              <td><em><a href="ezcMvcAuthenticationFilterOptions.html">ezcMvcAuthenticationFilterOptions</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodsetupAuth" id="setupAuth"><!-- --></a>

    <h4>setupAuth</h4>

    <div class="method-signature">
      <a href="/documentation/trunk/Authentication/phpdoc/ezcAuthentication.html">ezcAuthentication</a>
      setupAuth(
                                  [string
          $user
           = null]                  ,           [string
          $password
           = null]              )
    </div>

    <p>This method sets up the authentication mechanism.</p><div><p>By default it uses database and session storage only. If you want to do  more complex things, the best way would be to inherit from this class  and override this method. It takes a user name and password, but those  can be empty if your overridden class does not require them. This method  will also be called with $user and $password being NULL in case the  filter needs to check whether a user is already logged in. In this case,  the session should be checked.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$user</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$password</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodsetVars" id="setVars"><!-- --></a>

    <h4>setVars</h4>

    <div class="method-signature">
      void
      setVars(
                                  <a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a>|<a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a>
          $requestOrResult
                        )
    </div>

    <p>This method sets the user ID and user name variables as part of the  $request and $result objects.</p><div><p>This method should be called by the application's runRequestFilters()  and runResultFilters() methods to add authentication information to the  request and/or result. The method also makes the authentication filter  available to the controller actions so it is important that it is called  in both filters, and preferably as the first method call.</p><p>The variable names that contain the user ID and user name can be  configured through the $options object that is passed to the contructor.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$requestOrResult</code></td>
              <td><em><a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcRequest.html">ezcMvcRequest</a>|<a href="/documentation/trunk/MvcTools/phpdoc/ezcMvcResult.html">ezcMvcResult</a></em></td>
              <td>
                              </td>
            </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	
</div>
</div>
</body>
</html>
