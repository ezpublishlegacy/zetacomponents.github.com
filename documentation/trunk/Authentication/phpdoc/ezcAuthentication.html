<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="dotxp" />
	<meta name="language" content="en" />
	<meta name="date" content="Wed, 04 Aug 2010 13:07:14 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcAuthentication.html" />
	<meta name="DC.creator" content="dotxp" />
	<meta name="DC.date" content="Wed, 04 Aug 2010 13:07:14 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/documentation/trunk/Authentication/phpdoc/ezcAuthentication.rdf" />
	<link rel="icon" href="/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css" media="print" />


	<title>Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="" title="Zeta Components - high quality PHP components">
			Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/news.html" title="About">About</a>
	</li>
<li >
	<a href="/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/documentation/trunk/Authentication/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/documentation/trunk/Authentication/phpdoc/classtrees.html" title="API">API</a>
	</li>
<li >
	<a href="/documentation/trunk/Authentication/security.html" title="Security ">Security </a>
	</li>
<li >
	<a href="/documentation/trunk/Authentication/rfcs.html" title="Rfcs ">Rfcs </a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Zeta Components Manual :: Docs For Class ezcAuthentication</h2>

                  <h3>Authentication::ezcAuthentication</h3>
    
<a name="sec-description"></a>
<h3>Class ezcAuthentication</h3>

<p>Container for authentication filters.</p><div><p>This is the main class of the authentication component. Filters are added to  an object of this class, which will run the filters in sequence. At the end of  this process, the status property will contain the statuses of the filters, and  the developer can use those statuses to display to the user messages such as  "Password incorrect".</p><p>The session property is optional and it is used to store the authentication  information between requests.</p><p>The credentials property will be passed to all the filters in the queue.</p><p>Example (using the Htpasswd filter):  </p><ol><li><div class="src-line">&#8192;<span class="src-var">$credentials&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcAuthenticationPasswordCredentials.html">ezcAuthenticationPasswordCredentials</a></span><span class="src-sym">(&#8192;</span><span class="src-str">'jan.modaal'</span><span class="src-sym">,&#8192;</span><span class="src-str">'b1b3773a05c0ed0176787a4f1574ff0075f7521e'&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$authentication&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcAuthentication.html">ezcAuthentication</a></span><span class="src-sym">(&#8192;</span><span class="src-var">$credentials&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$authentication</span><span class="src-sym">-&gt;</span><span class="src-id">session&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcAuthenticationSession.html">ezcAuthenticationSession</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$authentication</span><span class="src-sym">-&gt;</span><a href="ezcAuthentication.html#methodaddFilter">addFilter</a><span class="src-sym">(&#8192;</span><span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcAuthenticationHtpasswdFilter.html">ezcAuthenticationHtpasswdFilter</a></span><span class="src-sym">(&#8192;</span><span class="src-str">'/etc/htpasswd'&#8192;</span><span class="src-sym">)&#8192;)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-comm">//&#8192;add&#8192;other&#8192;filters&#8192;if&#8192;needed</span></div></li>
<li><div class="src-line">&#8192;<span class="src-key">if&#8192;</span><span class="src-sym">(&#8192;</span><span class="src-sym">!</span><span class="src-var">$authentication</span><span class="src-sym">-&gt;</span><a href="ezcAuthentication.html#methodrun">run</a><span class="src-sym">(</span><span class="src-sym">)&#8192;)</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">{</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-comm">//&#8192;authentication&#8192;did&#8192;not&#8192;succeed,&#8192;so&#8192;inform&#8192;the&#8192;user</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-var">$status&#8192;</span>=&#8192;<span class="src-var">$authentication</span><span class="src-sym">-&gt;</span><a href="ezcAuthentication.html#methodgetStatus">getStatus</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-var">$err&#8192;</span>=&#8192;<span class="src-key">array</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-str">'ezcAuthenticationHtpasswdFilter'&#8192;</span>=&gt;&#8192;<span class="src-key">array</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-id"><a href="ezcAuthenticationHtpasswdFilter.html">ezcAuthenticationHtpasswdFilter</a></span><span class="src-sym">::</span><span class="src-id">STATUS_USERNAME_INCORRECT&#8192;</span>=&gt;&#8192;<span class="src-str">'Incorrect&#8192;username'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-id"><a href="ezcAuthenticationHtpasswdFilter.html">ezcAuthenticationHtpasswdFilter</a></span><span class="src-sym">::</span><span class="src-id">STATUS_PASSWORD_INCORRECT&#8192;</span>=&gt;&#8192;<span class="src-str">'Incorrect&#8192;password'</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-sym">)</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-key">foreach&#8192;</span><span class="src-sym">(&#8192;</span><span class="src-var">$status&#8192;</span><span class="src-key">as&#8192;</span><span class="src-var">$line&#8192;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-sym">{</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;list<span class="src-sym">(&#8192;</span><span class="src-var">$key</span><span class="src-sym">,&#8192;</span><span class="src-var">$value&#8192;</span><span class="src-sym">)&#8192;</span>=&#8192;<a href="http://www.php.net/each">each</a><span class="src-sym">(&#8192;</span><span class="src-var">$line&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;echo&#8192;<span class="src-var">$err</span><span class="src-sym">[</span><span class="src-var">$key</span><span class="src-sym">]</span><span class="src-sym">[</span><span class="src-var">$value</span><span class="src-sym">]&#8192;</span>.&#8192;<span class="src-str">"\n"</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-sym">}</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">}</span></div></li>
<li><div class="src-line">&#8192;<span class="src-key">else</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">{</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-comm">//&#8192;authentication&#8192;succeeded,&#8192;so&#8192;allow&#8192;the&#8192;user&#8192;to&#8192;see&#8192;his&#8192;content</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">}</span></div></li>
</ol></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/Authentication/src/authentication.php?r=HEAD">/Authentication/src/authentication.php</a></p>
       




  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogen//</td>
        </tr></table><a name="sec-prop-summary"></a>
  <h3>Properties</h3>
  <table class="summary"><tr><td class="right">
          <a name="prop%24credentials" id="$credentials"></a>
          <a name="prop-%24credentials" id="$credentials"></a>
          <em><a href="ezcAuthenticationCredentials.html">ezcAuthenticationCredentials</a></em>        </td>
        <td class="right">
          <em>read/write</em>
        </td>
        <td>
          <code>
            <a href="#prop-%24credentials" title="details" class="var-name-summary">$credentials</a>
                      </code>
          <br><div style="margin-left: 20px">The user credentials to pass to the authentication filters.</div>        </td>
      </tr><tr><td class="right">
          <a name="prop%24session" id="$session"></a>
          <a name="prop-%24session" id="$session"></a>
          <em><a href="ezcAuthenticationSession.html">ezcAuthenticationSession</a></em>        </td>
        <td class="right">
          <em>read/write</em>
        </td>
        <td>
          <code>
            <a href="#prop-%24session" title="details" class="var-name-summary">$session</a>
                      </code>
          <br><div style="margin-left: 20px">The session object to use during authentication to store the            authentication information between requests.</div>        </td>
      </tr><tr><td class="right">
          <a name="prop%24status" id="$status"></a>
          <a name="prop-%24status" id="$status"></a>
          <em><a href="ezcAuthenticationStatus.html">ezcAuthenticationStatus</a></em>        </td>
        <td class="right">
          <em>read/write</em>
        </td>
        <td>
          <code>
            <a href="#prop-%24status" title="details" class="var-name-summary">$status</a>
                      </code>
          <br><div style="margin-left: 20px">The status object which holds the status of the run filters.</div>        </td>
      </tr></table><a name="sec-var-summary"></a>
  <h3>Member Variables</h3>
  <table class="summary"><tr><td class="right">
            <em>protected</em>            <em>array(ezcAuthenticationFilter)</em>          </td>
          <td>
            <code>
              $filters
               = <span class="var-default">array()</span>            </code>
            <br><div style="margin-left: 20px">The filter queue of the authentication process.</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em><a href="ezcAuthenticationOptions.html">ezcAuthenticationOptions</a></em>          </td>
          <td>
            <code>
              $options
                          </code>
            <br><div style="margin-left: 20px">Options for the Authentication object.</div>                      </td>
        </tr></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>public</em>                        <em>ezcAuthentication</em>          </td>
          <td>
            <code>
              <a href="#__construct"><b>__construct</b></a>(
                                                                                    $credentials
                                                    ,                   [                  $options
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Creates a new object of this class.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#addFilter"><b>addFilter</b></a>(
                                                                                    $filter
                                                    ,                   [                  $stop
                   = false]                               )
            </code>
            <br><div style="margin-left: 20px">Adds an authentication filter at the end of the filter list.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em><a href="ezcAuthenticationOptions.html">ezcAuthenticationOptions</a></em>          </td>
          <td>
            <code>
              <a href="#getOptions"><b>getOptions</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the options of this class.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>array(string=&gt;mixed)</em>          </td>
          <td>
            <code>
              <a href="#getStatus"><b>getStatus</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Returns the status of authentication.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>bool</em>          </td>
          <td>
            <code>
              <a href="#run"><b>run</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Runs through all the filters in the filter list.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#setOptions"><b>setOptions</b></a>(
                                                                                    $options
                                                 )
            </code>
            <br><div style="margin-left: 20px">Sets the options of this class to $options.</div>          </td>
        </tr></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
            
      <a name="method__construct" id="__construct"><!-- --></a>

    <h4>__construct</h4>

    <div class="method-signature">
      ezcAuthentication
      __construct(
                                  <a href="ezcAuthenticationCredentials.html">ezcAuthenticationCredentials</a>
          $credentials
                            ,           [<a href="ezcAuthenticationOptions.html">ezcAuthenticationOptions</a>
          $options
           = null]              )
    </div>

    <p>Creates a new object of this class.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$credentials</code></td>
              <td><em><a href="ezcAuthenticationCredentials.html">ezcAuthenticationCredentials</a></em></td>
              <td>
                                  Authentication credentials
                              </td>
            </tr><tr><td><code>$options</code></td>
              <td><em><a href="ezcAuthenticationOptions.html">ezcAuthenticationOptions</a></em></td>
              <td>
                                  Options for this class
                              </td>
            </tr></tbody></table><a name="methodaddFilter" id="addFilter"><!-- --></a>

    <h4>addFilter</h4>

    <div class="method-signature">
      void
      addFilter(
                                  <a href="ezcAuthenticationFilter.html">ezcAuthenticationFilter</a>
          $filter
                            ,           [bool
          $stop
           = false]              )
    </div>

    <p>Adds an authentication filter at the end of the filter list.</p><div><p>By specifying the second parameter as true, the authentication process  (triggered by calling the run() method) will stop after processing this  filter regardless of its success.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$filter</code></td>
              <td><em><a href="ezcAuthenticationFilter.html">ezcAuthenticationFilter</a></em></td>
              <td>
                                  The authentication filter to add
                              </td>
            </tr><tr><td><code>$stop</code></td>
              <td><em>bool</em></td>
              <td>
                                  If authentication should continue past this filter
                              </td>
            </tr></tbody></table><a name="methodgetOptions" id="getOptions"><!-- --></a>

    <h4>getOptions</h4>

    <div class="method-signature">
      <a href="ezcAuthenticationOptions.html">ezcAuthenticationOptions</a>
      getOptions(
      )
    </div>

    <p>Returns the options of this class.</p>
    
        

    
    
    
        <a name="methodgetStatus" id="getStatus"><!-- --></a>

    <h4>getStatus</h4>

    <div class="method-signature">
      array(string=&gt;mixed)
      getStatus(
      )
    </div>

    <p>Returns the status of authentication.</p><div><p>The format of the returned array is array( array( class =&gt; code ) ).</p><p>Example:  </p><ol><li><div class="src-line">&#8192;<span class="src-key">array</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-key">array</span><span class="src-sym">(&#8192;</span><span class="src-str">'ezcAuthenticationSession'&#8192;</span>=&gt;&#8192;<span class="src-id"><a href="ezcAuthenticationSession.html">ezcAuthenticationSession</a></span><span class="src-sym">::</span><span class="src-id">STATUS_EMPTY&#8192;</span><span class="src-sym">)</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-key">array</span><span class="src-sym">(&#8192;</span><span class="src-str">'ezcAuthenticationDatabaseFilter'&#8192;</span>=&gt;&#8192;<span class="src-id"><a href="/documentation/trunk/AuthenticationDatabaseTiein/phpdoc/ezcAuthenticationDatabaseFilter.html">ezcAuthenticationDatabaseFilter</a></span><span class="src-sym">::</span><span class="src-id">STATUS_PASSWORD_INCORRECT&#8192;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div>
    
        

    
    
    
        <a name="methodrun" id="run"><!-- --></a>

    <h4>run</h4>

    <div class="method-signature">
      bool
      run(
      )
    </div>

    <p>Runs through all the filters in the filter list.</p>
    
        

    
    
    
        <a name="methodsetOptions" id="setOptions"><!-- --></a>

    <h4>setOptions</h4>

    <div class="method-signature">
      void
      setOptions(
                                  <a href="ezcAuthenticationOptions.html">ezcAuthenticationOptions</a>
          $options
                        )
    </div>

    <p>Sets the options of this class to $options.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$options</code></td>
              <td><em><a href="ezcAuthenticationOptions.html">ezcAuthenticationOptions</a></em></td>
              <td>
                                  Options for this class
                              </td>
            </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	
</div>
</div>
</body>
</html>
