<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="dotxp" />
	<meta name="language" content="en" />
	<meta name="date" content="Wed, 04 Aug 2010 13:07:44 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcGraphSvgFont.html" />
	<meta name="DC.creator" content="dotxp" />
	<meta name="DC.date" content="Wed, 04 Aug 2010 13:07:44 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/documentation/trunk/Graph/phpdoc/ezcGraphSvgFont.rdf" />
	<link rel="icon" href="/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css" media="print" />


	<title>Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="" title="Zeta Components - high quality PHP components">
			Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/news.html" title="About">About</a>
	</li>
<li >
	<a href="/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/documentation/trunk/Graph/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/documentation/trunk/Graph/phpdoc/classtrees.html" title="API">API</a>
	</li>
<li >
	<a href="/documentation/trunk/Graph/gallery.html" title="Gallery ">Gallery </a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Zeta Components Manual :: Docs For Class ezcGraphSvgFont</h2>

                  <h3>Graph::ezcGraphSvgFont</h3>
    
<a name="sec-description"></a>
<h3>Class ezcGraphSvgFont</h3>

<p>Helper class, offering requrired calculation basics and font metrics to use  SVG fonts with the SVG driver.</p><div><p>You may convert any ttf font into a SVG font using the `ttf2svg` bianry from  the batik package. Depending on the distribution it may only be available as  `batik-ttf2svg-&lt;version&gt;`.</p><p>Usage:  </p><ol><li><div class="src-line">&#8192;&#8192;<span class="src-var">$font&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcGraphSvgFont.html">ezcGraphSvgFont</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;&#8192;<a href="http://www.php.net/var_dump">var_dump</a><span class="src-sym">(</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-var">$font</span><span class="src-sym">-&gt;</span><a href="ezcGraphSvgFont.html#methodcalculateStringWidth">calculateStringWidth</a><span class="src-sym">(&#8192;</span><span class="src-str">'../tests/data/font.svg'</span><span class="src-sym">,&#8192;</span><span class="src-str">'Just&#8192;a&#8192;test&#8192;string.'&#8192;</span><span class="src-sym">)</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-var">$font</span><span class="src-sym">-&gt;</span><a href="ezcGraphSvgFont.html#methodcalculateStringWidth">calculateStringWidth</a><span class="src-sym">(&#8192;</span><span class="src-str">'../tests/data/font2.svg'</span><span class="src-sym">,&#8192;</span><span class="src-str">'Just&#8192;a&#8192;test&#8192;string.'&#8192;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&#8192;&#8192;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/Graph/src/driver/svg_font.php?r=HEAD">/Graph/src/driver/svg_font.php</a></p>
       




  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogentag//</td>
        </tr></table><a name="sec-var-summary"></a>
  <h3>Member Variables</h3>
  <table class="summary"><tr><td class="right">
            <em>protected</em>            <em>string</em>          </td>
          <td>
            <code>
              $fonts
               = <span class="var-default">array()</span>            </code>
            <br><div style="margin-left: 20px">Path to font</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>array</em>          </td>
          <td>
            <code>
              $glyphCache
               = <span class="var-default">array()</span>            </code>
            <br><div style="margin-left: 20px">Cache for glyph size to save XPath lookups.</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>float</em>          </td>
          <td>
            <code>
              $unitsPerEm
                          </code>
            <br><div style="margin-left: 20px">Units per EM</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>array</em>          </td>
          <td>
            <code>
              $usedGlyphs
               = <span class="var-default">array()</span>            </code>
            <br><div style="margin-left: 20px">Used glyphs</div>                      </td>
        </tr><tr><td class="right">
            <em>protected</em>            <em>array</em>          </td>
          <td>
            <code>
              $usedKerns
               = <span class="var-default">array()</span>            </code>
            <br><div style="margin-left: 20px">Used kernings</div>                      </td>
        </tr></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>public</em>            static
                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#getFontName"><b>getFontName</b></a>(
                                                                                    $fontPath
                                                 )
            </code>
            <br><div style="margin-left: 20px">Get name of font</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>            static
                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#xpathEscape"><b>xpathEscape</b></a>(
                                                                                    $char
                                                 )
            </code>
            <br><div style="margin-left: 20px">XPath has no standard means of escaping ' and ", with the only solution  being to delimit your string with the opposite type of quote. ( And if  your string contains both concat(  ) it ).</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#addFontToDocument"><b>addFontToDocument</b></a>(
                                                                                    $document
                                                 )
            </code>
            <br><div style="margin-left: 20px">Add font definitions to SVG document</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>float</em>          </td>
          <td>
            <code>
              <a href="#calculateStringWidth"><b>calculateStringWidth</b></a>(
                                                                                    $fontPath
                                                    ,                                     $string
                                                 )
            </code>
            <br><div style="margin-left: 20px">Calculates the width of $string in the current font in Em's.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>float</em>          </td>
          <td>
            <code>
              <a href="#getGlyph"><b>getGlyph</b></a>(
                                                                                    $fontPath
                                                    ,                                     $char
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns the &lt;glyph&gt; associated with $char.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>int</em>          </td>
          <td>
            <code>
              <a href="#getKerning"><b>getKerning</b></a>(
                                                                                    $fontPath
                                                    ,                                     $glyph1
                                                    ,                                     $glyph2
                                                    ,                                     $g1
                                                    ,                                     $g2
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns the amount of kerning to apply for glyphs $g1 and $g2. If no  valid kerning pair can be found 0 is returned.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#initializeFont"><b>initializeFont</b></a>(
                                                                                    $fontPath
                                                 )
            </code>
            <br><div style="margin-left: 20px">Initialize SVG font</div>          </td>
        </tr></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
          <a name="methodgetFontName" id="getFontName"><!-- --></a>

    <h4>getFontName</h4>

    <div class="method-signature">
      static string
      getFontName(
                                  string
          $fontPath
                        )
    </div>

      <p>Get name of font</p><div><p>Get the name of the given font, by extracting its font family from the  SVG font file.</p></div>      
              <h5>Parameters:</h5>
        <table class="detail"><thead><tr><th>Name</th>
              <th>Type</th>
              <th class="desc">Description</th>
            </tr></thead><tbody><tr><td><code>$fontPath</code></td>
                <td><em>string</em></td>
                <td>
                                  </td>
              </tr></tbody></table><a name="methodxpathEscape" id="xpathEscape"><!-- --></a>

    <h4>xpathEscape</h4>

    <div class="method-signature">
      static string
      xpathEscape(
                                  string
          $char
                        )
    </div>

      <p>XPath has no standard means of escaping ' and ", with the only solution  being to delimit your string with the opposite type of quote. ( And if  your string contains both concat(  ) it ).</p><div><p>This method will correctly delimit $char with the appropriate quote type  so that it can be used in an XPath expression.</p></div>      
              <h5>Parameters:</h5>
        <table class="detail"><thead><tr><th>Name</th>
              <th>Type</th>
              <th class="desc">Description</th>
            </tr></thead><tbody><tr><td><code>$char</code></td>
                <td><em>string</em></td>
                <td>
                                  </td>
              </tr></tbody></table><a name="methodaddFontToDocument" id="addFontToDocument"><!-- --></a>

    <h4>addFontToDocument</h4>

    <div class="method-signature">
      void
      addFontToDocument(
                                  
          $document
                        )
    </div>

    <p>Add font definitions to SVG document</p><div><p>Add the SVG font definition paths for all used glyphs and kernings to  the given SVG document.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$document</code></td>
              <td><em>DOMDocument</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodcalculateStringWidth" id="calculateStringWidth"><!-- --></a>

    <h4>calculateStringWidth</h4>

    <div class="method-signature">
      float
      calculateStringWidth(
                                  string
          $fontPath
                            ,           string
          $string
                        )
    </div>

    <p>Calculates the width of $string in the current font in Em's.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$fontPath</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$string</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodgetGlyph" id="getGlyph"><!-- --></a>

    <h4>getGlyph</h4>

    <div class="method-signature">
      float
      getGlyph(
                                  string
          $fontPath
                            ,           string
          $char
                        )
    </div>

    <p>Returns the &lt;glyph&gt; associated with $char.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$fontPath</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$char</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodgetKerning" id="getKerning"><!-- --></a>

    <h4>getKerning</h4>

    <div class="method-signature">
      int
      getKerning(
                                  string
          $fontPath
                            ,           
          $glyph1
                            ,           
          $glyph2
                            ,           SimpleXMLElement
          $g1
                            ,           SimpleXMLElement
          $g2
                        )
    </div>

    <p>Returns the amount of kerning to apply for glyphs $g1 and $g2. If no  valid kerning pair can be found 0 is returned.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$fontPath</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$g1</code></td>
              <td><em>SimpleXMLElement</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$g2</code></td>
              <td><em>SimpleXMLElement</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$glyph1</code></td>
              <td><em>SimpleXMLElement</em></td>
              <td>
                              </td>
            </tr><tr><td><code>$glyph2</code></td>
              <td><em>SimpleXMLElement</em></td>
              <td>
                              </td>
            </tr></tbody></table><a name="methodinitializeFont" id="initializeFont"><!-- --></a>

    <h4>initializeFont</h4>

    <div class="method-signature">
      string
      initializeFont(
                                  string
          $fontPath
                        )
    </div>

    <p>Initialize SVG font</p><div><p>Loads the SVG font $filename. This should be the path to the file  generated by ttf2svg.</p><p>Returns the (normlized) name of the initilized font.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$fontPath</code></td>
              <td><em>string</em></td>
              <td>
                              </td>
            </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	
</div>
</div>
</body>
</html>
