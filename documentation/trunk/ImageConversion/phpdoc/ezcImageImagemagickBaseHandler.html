<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="dotxp" />
	<meta name="language" content="en" />
	<meta name="date" content="Wed, 04 Aug 2010 13:07:46 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcImageImagemagickBaseHandler.html" />
	<meta name="DC.creator" content="dotxp" />
	<meta name="DC.date" content="Wed, 04 Aug 2010 13:07:46 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/documentation/trunk/ImageConversion/phpdoc/ezcImageImagemagickBaseHandler.rdf" />
	<link rel="icon" href="/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css" media="print" />


	<title>Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="" title="Zeta Components - high quality PHP components">
			Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/news.html" title="About">About</a>
	</li>
<li >
	<a href="/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/documentation/trunk/ImageConversion/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/documentation/trunk/ImageConversion/phpdoc/classtrees.html" title="API">API</a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Zeta Components Manual :: Docs For Class ezcImageImagemagickBaseHandler</h2>

                  <h3>ImageConversion::ezcImageImagemagickBaseHandler</h3>
    
<a name="sec-description"></a>
<h3>Class ezcImageImagemagickBaseHandler</h3>

<p>ezcImageHandler implementation for ImageMagick.</p><div><p>This class only implements the base funtionality of handling images with  ImageMagick. If you want to manipulate images using ImageMagick in your  application, you should use the <a href="ezcImageImagemagickHandler.html">ezcImageImagemagickHandler</a>.</p><p>You can use this base class to implement your own filter set on basis of  ImageMagick, but you can also use <a href="ezcImageImagemagickHandler.html">ezcImageImagemagickHandler</a> for  this and profit from its already implemented filters.</p></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/ImageConversion/src/handlers/imagemagick_base.php?r=HEAD">/ImageConversion/src/handlers/imagemagick_base.php</a></p>
       


<pre>ezcImageMethodcallHandler
   |
   --ezcImageImagemagickBaseHandler</pre>


  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogentag//</td>
        </tr></table><a name="sec-descendants"></a>
  <h3>Descendants</h3>
  <table class="detail"><thead><tr><th>Child Class</th>
        <th>Description</th>
      </tr></thead><tbody><tr><td><a href="ezcImageImagemagickHandler.html">ezcImageImagemagickHandler</a></td>          <td>
                          ezcImageHandler implementation for ImageMagick.
                      </td>
        </tr></tbody></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>public</em>            static
                        <em><a href="ezcImageHandlerSettings.html">ezcImageHandlerSettings</a></em>          </td>
          <td>
            <code>
              <a href="#defaultSettings"><b>defaultSettings</b></a>(
               )
            </code>
            <br><div style="margin-left: 20px">Creates default settings for the handler and returns it.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>ezcImageImagemagickBaseHandler</em>          </td>
          <td>
            <code>
              <a href="#__construct"><b>__construct</b></a>(
                                                                                    $settings
                                                 )
            </code>
            <br><div style="margin-left: 20px">Create a new image handler.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#addCompositeImage"><b>addCompositeImage</b></a>(
                                                                                    $reference
                                                    ,                                     $file
                                                 )
            </code>
            <br><div style="margin-left: 20px">Add an image to composite with the given reference.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#addFilterOption"><b>addFilterOption</b></a>(
                                                                                    $reference
                                                    ,                                     $name
                                                    ,                   [                  $parameter
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Add a filter option to a given reference</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#close"><b>close</b></a>(
                                                                                    $image
                                                 )
            </code>
            <br><div style="margin-left: 20px">Close the file referenced by $image.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#colorArrayToString"><b>colorArrayToString</b></a>(
                                                                                    $color
                                                 )
            </code>
            <br><div style="margin-left: 20px">Returns a string representation of the given color array.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#load"><b>load</b></a>(
                                                                                    $file
                                                    ,                   [                  $mime
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Load an image file.</div>          </td>
        </tr><tr><td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#save"><b>save</b></a>(
                                                                                    $image
                                                    ,                   [                  $newFile
                   = null]                                  ,                   [                  $mime
                   = null]                                  ,                   [                  $options
                   = null]                               )
            </code>
            <br><div style="margin-left: 20px">Save an image file.</div>          </td>
        </tr></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
                <a name="methoddefaultSettings" id="defaultSettings"><!-- --></a>

    <h4>defaultSettings</h4>

    <div class="method-signature">
      static <a href="ezcImageHandlerSettings.html">ezcImageHandlerSettings</a>
      defaultSettings(
      )
    </div>

      <p>Creates default settings for the handler and returns it.</p><div><p>The reference name will be set to 'ImageMagick'.</p></div>      
      
      
      
      
      
      
      <a name="method__construct" id="__construct"><!-- --></a>

    <h4>__construct</h4>

    <div class="method-signature">
      ezcImageImagemagickBaseHandler
      __construct(
                                  <a href="ezcImageHandlerSettings.html">ezcImageHandlerSettings</a>
          $settings
                        )
    </div>

    <p>Create a new image handler.</p><div><p>Creates an image handler. This should never be done directly,  but only through the manager for configuration reasons. One can  get a direct reference through manager afterwards.</p><p>This handler has an option 'binary' available, which allows you to  explicitly set the path to your ImageMagicks "convert" binary (this  may be necessary on Windows, since there may be an obscure "convert.exe"  in the $PATH variable available, which has nothing to do with  ImageMagick).</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$settings</code></td>
              <td><em><a href="ezcImageHandlerSettings.html">ezcImageHandlerSettings</a></em></td>
              <td>
                                  Settings for the handler.
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcImageHandlerNotAvailableException.html">ezcImageHandlerNotAvailableException</a></code></td>
              <td>
                                  If the ImageMagick binary is not found.
                              </td>
            </tr></tbody></table><a name="methodaddCompositeImage" id="addCompositeImage"><!-- --></a>

    <h4>addCompositeImage</h4>

    <div class="method-signature">
      void
      addCompositeImage(
                                  string
          $reference
                            ,           string
          $file
                        )
    </div>

    <p>Add an image to composite with the given reference.</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$reference</code></td>
              <td><em>string</em></td>
              <td>
                                  The reference to add an image to
                              </td>
            </tr><tr><td><code>$file</code></td>
              <td><em>string</em></td>
              <td>
                                  The file to composite with the image.
                              </td>
            </tr></tbody></table><a name="methodaddFilterOption" id="addFilterOption"><!-- --></a>

    <h4>addFilterOption</h4>

    <div class="method-signature">
      void
      addFilterOption(
                                  string
          $reference
                            ,           string
          $name
                            ,           [string
          $parameter
           = null]              )
    </div>

    <p>Add a filter option to a given reference</p>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$reference</code></td>
              <td><em>string</em></td>
              <td>
                                  The reference to add a filter for.
                              </td>
            </tr><tr><td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  The option name.
                              </td>
            </tr><tr><td><code>$parameter</code></td>
              <td><em>string</em></td>
              <td>
                                  The option parameter.
                              </td>
            </tr></tbody></table><a name="methodclose" id="close"><!-- --></a>

    <h4>close</h4>

    <div class="method-signature">
      void
      close(
                                  string
          $image
                        )
    </div>

    <p>Close the file referenced by $image.</p><div><p>Frees the image reference. You should call close() before.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$image</code></td>
              <td><em>string</em></td>
              <td>
                                  The image reference.
                              </td>
            </tr></tbody></table><a name="methodcolorArrayToString" id="colorArrayToString"><!-- --></a>

    <h4>colorArrayToString</h4>

    <div class="method-signature">
      void
      colorArrayToString(
                                  
          $color
                        )
    </div>

    <p>Returns a string representation of the given color array.</p><div><p>ImageConversion uses arrays to represent color values, in the format:  </p><ol><li><div class="src-line">&#8192;<span class="src-key">array</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-num">255</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-num">0</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;<span class="src-num">0</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&#8192;<span class="src-sym">)</span></div></li>
</ol>  This array represents the color red.<p>This method takes such a color array and converts it into a string  representation usable by the convert binary. For the above examle it  would be '#FF0000'.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$color</code></td>
              <td><em>array</em></td>
              <td>
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="/documentation/trunk/Base/phpdoc/ezcBaseValueException.html">ezcBaseValueException</a></code></td>
              <td>
                                  if one of the color values in the array is invalid (not integer, smaller than 0 or larger than 255).
                              </td>
            </tr></tbody></table><a name="methodload" id="load"><!-- --></a>

    <h4>load</h4>

    <div class="method-signature">
      string
      load(
                                  string
          $file
                            ,           [string
          $mime
           = null]              )
    </div>

    <p>Load an image file.</p><div><p>Loads an image file and returns a reference to it.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$file</code></td>
              <td><em>string</em></td>
              <td>
                                  File to load.
                              </td>
            </tr><tr><td><code>$mime</code></td>
              <td><em>string</em></td>
              <td>
                                  The MIME type of the file.
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="/documentation/trunk/Base/phpdoc/ezcBaseFileNotFoundException.html">ezcBaseFileNotFoundException</a></code></td>
              <td>
                                  If the desired file does not exist.
                              </td>
            </tr><tr><td><code><a href="ezcImageMimeTypeUnsupportedException.html">ezcImageMimeTypeUnsupportedException</a></code></td>
              <td>
                                  If the desired file has a not recognized type.
                              </td>
            </tr><tr><td><code><a href="ezcImageFileNameInvalidException.html">ezcImageFileNameInvalidException</a></code></td>
              <td>
                                  If an invalid character (", ', $) is found in the file name.
                              </td>
            </tr></tbody></table><a name="methodsave" id="save"><!-- --></a>

    <h4>save</h4>

    <div class="method-signature">
      void
      save(
                                  string
          $image
                            ,           [string
          $newFile
           = null]                  ,           [string
          $mime
           = null]                  ,           [<a href="ezcImageSaveOptions.html">ezcImageSaveOptions</a>
          $options
           = null]              )
    </div>

    <p>Save an image file.</p><div><p>Saves a given open file. Can optionally save to a new file name.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$image</code></td>
              <td><em>string</em></td>
              <td>
                                  File reference created through load().
                              </td>
            </tr><tr><td><code>$newFile</code></td>
              <td><em>string</em></td>
              <td>
                                  Filename to save the image to.
                              </td>
            </tr><tr><td><code>$mime</code></td>
              <td><em>string</em></td>
              <td>
                                  New MIME type, if differs from initial one.
                              </td>
            </tr><tr><td><code>$options</code></td>
              <td><em><a href="ezcImageSaveOptions.html">ezcImageSaveOptions</a></em></td>
              <td>
                                  Save options.
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="/documentation/trunk/Base/phpdoc/ezcBaseFilePermissionException.html">ezcBaseFilePermissionException</a></code></td>
              <td>
                                  If the desired file exists and is not writeable.
                              </td>
            </tr><tr><td><code><a href="ezcImageMimeTypeUnsupportedException.html">ezcImageMimeTypeUnsupportedException</a></code></td>
              <td>
                                  If the desired MIME type is not recognized.
                              </td>
            </tr><tr><td><code><a href="ezcImageFileNameInvalidException.html">ezcImageFileNameInvalidException</a></code></td>
              <td>
                                  If an invalid character (", ', $) is found in the file name.
                              </td>
            </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	Copyright © 2010 <a href="http://apache.org">The Software Foundation</a>
</div>
</div>
</body>
</html>
