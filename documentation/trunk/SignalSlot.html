<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Apache Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="dotxp" />
	<meta name="language" content="en" />
	<meta name="date" content="Wed, 04 Aug 2010 13:07:09 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="SignalSlot" />
	<meta name="DC.creator" content="dotxp" />
	<meta name="DC.date" content="Wed, 04 Aug 2010 13:07:09 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/zetacomponents/documentation/trunk/SignalSlot/tutorial.rdf" />
	<link rel="icon" href="/zetacomponents/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/zetacomponents/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/zetacomponents/styles/print.css" media="print" />


	<title>Apache Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="/zetacomponents" title="Apache Zeta Components - high quality PHP components">
			Apache Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/zetacomponents/news.html" title="About">About</a>
	</li>
<li >
	<a href="/zetacomponents/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/zetacomponents/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/zetacomponents/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/zetacomponents/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/zetacomponents/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/zetacomponents/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/zetacomponents/documentation/trunk/SignalSlot/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li >
	<a href="/zetacomponents/documentation/trunk/SignalSlot/phpdoc/classtrees.html" title="API">API</a>
	</li>

</ul>

		<h2>eZ Components - SignalSlot</h2><div class="toc"><h3>Table of Contents</h3><ul><li><p><a href="#introduction">Introduction</a></p></li><li><p><a href="#class-overview">Class overview</a></p></li><li><p><a href="#usage">Usage</a></p><ul><li><p><a href="#a-simple-signal">A simple signal</a></p></li><li><p><a href="#slot-types">Slot types</a></p></li><li><p><a href="#signals-in-a-class">Signals in a class</a></p></li><li><p><a href="#signals-with-parameters">Signals with parameters</a></p></li><li><p><a href="#multiple-slots">Multiple slots</a></p></li><li><p><a href="#prioritized-slots">Prioritized slots</a></p></li><li><p><a href="#static-connections">Static connections</a></p></li><li><p><a href="#lazy-initialization">Lazy initialization</a></p></li></ul></li></ul></div><a name="introduction"></a><a name="id2"></a><h3>Introduction</h3><p>The SignalSlot component implements a mechanism for inter- and intra-object communication through the use of signals and slots. Signals are emitted through instances of the <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a> class and connected to as many functions as needed. A function that is connected to a signal is called a slot. When the signal is emitted, all connected slots will be run in the order they are connected or in the order of the priorities specified when connecting to the signals.</p><p>The SignalSlot library supports signals with arguments that are passed on to the slot. Slots must accept all the parameters that are sent to it. The SignalSlot component also supports prioritized slots. Using this mechanism, you can ensure that a slot is run either before or after other slots.</p><p>There are many different variations of the Signal/Slot model. The original implementations required you to derive from the Signal class in order to have signals or slots. This is acceptable for languages that support multiple inheritance. Newer implemtentations circumvent this problem by representing signals through one instance of the Signal class. In other words, a class that has two signals will have two member variables holding instances of the Signals class. This approach can lead to the creation of a lot of signal objects, which can be especially problematic for scripting languages. As a result, our signal class can represent several signals.</p><a name="class-overview"></a><a name="id3"></a><h3>Class overview</h3><p>This section gives you an overview of the main classes in the SignalSlot component.</p><dl><dt>ezcSignalCollection</dt><dd>This class represents a collection of signals. You can emit or connect to the signals using the methods available in this class.</dd><dt>ezcSignalStaticConnections</dt><dd>This class holds the static connections for your application. Static connections are connections to signals that can be emitted by several different instances of <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a>.</dd></dl><a name="usage"></a><a name="id4"></a><h3>Usage</h3><a name="a-simple-signal"></a><a name="id5"></a><h4>A simple signal</h4><p>This first example shows the simplest possible usage of the signal system. We simply create a new <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a> class, connect the "sayHello" signal to the function "hello" and emit the signal.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">function&nbsp;</span><span style="color: #000000">hello</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Hello&nbsp;world\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"sayHello"</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"hello"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"sayHello"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>The output of this example yields the classic "Hello world".</p><a name="slot-types"></a><a name="id6"></a><h4>Slot types</h4><p>Slots are not limited to normal functions. They are specified using the pseudo type <a href="http://php.net/callback">callback</a>. You can specify normal functions, class methods and static class methods, as shown by these variations of the above example.</p><ol><li><p>functions</p></li></ol><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">function&nbsp;</span><span style="color: #000000">hello</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Hello&nbsp;world\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"sayHello"</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"hello"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"sayHello"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><ol><li><p>class methods</p></li></ol><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">HelloClass</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">hello</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Hello&nbsp;world\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"sayHello"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;new&nbsp;</span><span style="color: #000000">HelloClass</span><span style="color: #0000FF">(),&nbsp;</span><span style="color: #335533">"hello"&nbsp;</span><span style="color: #0000FF">)&nbsp;);</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"sayHello"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><ol><li><p>static class methods</p></li></ol><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">HelloClass</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #000000">hello</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Hello&nbsp;world\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"sayHello"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;</span><span style="color: #335533">"HelloClass"</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"hello"&nbsp;</span><span style="color: #0000FF">)&nbsp;);</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"sayHello"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><a name="signals-in-a-class"></a><a name="id7"></a><h4>Signals in a class</h4><p>The typical usage of signals is to have classes emit them when certain events occur. The following example shows a data object that emits a signal when its data is changed. The signal is connected to the caching system, which clears the cache when the data is changed.</p><p>This example also shows how you can delay the construction of the <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a> object. This can be useful in applications where signals are rarely used and you want to avoid the overhead of creating the object.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Data</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">null</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">==&nbsp;</span><span style="color: #000000">null&nbsp;</span><span style="color: #0000FF">)&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">//&nbsp;change&nbsp;the&nbsp;data&nbsp;here</span></li>
<li><span style="color: #007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Cache</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">deleteCache</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Deleting&nbsp;cache\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$cache&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Cache</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$data&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Data</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;</span><span style="color: #000000">$cache</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"deleteCache"&nbsp;</span><span style="color: #0000FF">)&nbsp;);</span></li>
<li></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><a name="signals-with-parameters"></a><a name="id8"></a><h4>Signals with parameters</h4><p>Signals can have parameters that will be passed on to the receiving slots. The next example is an extension of the previous example, where the data object gives some information about the data that was changed. This information is passed to the receiving slots as a parameter.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Data</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">null</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">==&nbsp;</span><span style="color: #000000">null&nbsp;</span><span style="color: #0000FF">)&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">//&nbsp;change&nbsp;the&nbsp;data&nbsp;here</span></li>
<li><span style="color: #007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"calendar"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Cache</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">deleteCache</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$type&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Deleting&nbsp;cache&nbsp;for&nbsp;ID:&nbsp;</span><span style="color: #0000FF">{</span><span style="color: #000000">$type</span><span style="color: #0000FF">}</span><span style="color: #335533">\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$cache&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Cache</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$data&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Data</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;</span><span style="color: #000000">$cache</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"deleteCache"&nbsp;</span><span style="color: #0000FF">)&nbsp;);</span></li>
<li></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>Note that slots must accept the parameters that are passed to them. You will get errors / warnings if you provide too few parameters to the slots you have connected to a signal.</p><p>Also note that it is not possible to pass signal parameters by reference except for object types, which are always references in PHP 5.</p><a name="multiple-slots"></a><a name="id9"></a><h4>Multiple slots</h4><p>It is possible to connect several slots to one signal. This is just a matter of calling "connect" several times. You can freely mix the different slot types. The following example adds another connection to our previous example. It regenerates the cache after it has been deleted.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Data</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">null</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">==&nbsp;</span><span style="color: #000000">null&nbsp;</span><span style="color: #0000FF">)&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">//&nbsp;change&nbsp;the&nbsp;data&nbsp;here</span></li>
<li><span style="color: #007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"calendar"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Cache</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">deleteCache</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$type&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Deleting&nbsp;cache&nbsp;for&nbsp;ID:&nbsp;</span><span style="color: #0000FF">{</span><span style="color: #000000">$type</span><span style="color: #0000FF">}</span><span style="color: #335533">\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">CacheGenerator</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">generateCache</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$identifier&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Generating&nbsp;cache&nbsp;for&nbsp;ID:&nbsp;</span><span style="color: #0000FF">{</span><span style="color: #000000">$identifier</span><span style="color: #0000FF">}</span><span style="color: #335533">\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$cache&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Cache</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$cacheGenerator&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">CacheGenerator</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">$data&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Data</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;</span><span style="color: #000000">$cache</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"deleteCache"&nbsp;</span><span style="color: #0000FF">)&nbsp;);</span></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;</span><span style="color: #000000">$cacheGenerator</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"generateCache"&nbsp;</span><span style="color: #0000FF">)&nbsp;);</span></li>
<li></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><a name="prioritized-slots"></a><a name="id10"></a><h4>Prioritized slots</h4><p>The previous example showed how to connect several slots to one signal and how they are executed one after another. The example code is also dependent on the order the slots are executed. Normally, slots are executed in the order they are connected. Sometimes, it is not possible to connect slots in the order you want them to be executed. To ensure that some slots are executed before others, you can use the priority system. When connecting, you can specify a priority for that connection. Priority numbers can be specified using any positive integer. The lower the number, the higher the priority. Higher priority connections are executed first. By default, connections are made with a priority of 1000.</p><p>This example shows how the connections from the previous example could have been specified to ensure the order in which the slots are called.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Data</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">null</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">==&nbsp;</span><span style="color: #000000">null&nbsp;</span><span style="color: #0000FF">)&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">//&nbsp;change&nbsp;the&nbsp;data&nbsp;here</span></li>
<li><span style="color: #007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"calendar"&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Cache</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">deleteCache</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$type&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Deleting&nbsp;cache&nbsp;for&nbsp;ID:&nbsp;</span><span style="color: #0000FF">{</span><span style="color: #000000">$type</span><span style="color: #0000FF">}</span><span style="color: #335533">\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">CacheGenerator</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">generateCache</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$identifier&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Generating&nbsp;cache&nbsp;for&nbsp;ID:&nbsp;</span><span style="color: #0000FF">{</span><span style="color: #000000">$identifier</span><span style="color: #0000FF">}</span><span style="color: #335533">\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$cache&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Cache</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$cacheGenerator&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">CacheGenerator</span><span style="color: #0000FF">();</span></li>
<li></li>
<li><span style="color: #000000">$data&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Data</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;</span><span style="color: #000000">$cacheGenerator</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"generateCache"&nbsp;</span><span style="color: #0000FF">),&nbsp;</span><span style="color: #000000">20&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;</span><span style="color: #000000">$cache</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"deleteCache"&nbsp;</span><span style="color: #0000FF">),&nbsp;</span><span style="color: #000000">10&nbsp;</span><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #000000">$data</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>Excessive usage of the priority system can lead to unmaintainable code, since it is hard to track the various priorities that are in use in a system. We do not recommend using it unless absolutely neccessary.</p><a name="static-connections"></a><a name="id11"></a><h4>Static connections</h4><p>Sometimes it is useful to connect a signal with a specific name, regardless of the sender <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a>, to a slot. Consider what would happen if the Data class from our previous example was extended to a DataObject class with a potential of thousands of instances. If you wanted the caching system to work, you would have to connect each one to the caching system upon creation.</p><p>This is both unpractical and time consuming. The solution is to use static connections. When creating <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a> objects, you can provide an identifier to the constructor. Using <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalStaticConnections.html'>ezcSignalStaticConnections</a>, you can connect to all signals from a source with a specific identifier.</p><p>The following example shows how to use static connections to connect the signal "dataChanged" from all objects of the type "DataObject" to the caching system.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">DataObject</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">null</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #000000">$identifier&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">null</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">__construct</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$id&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">identifier&nbsp;</span><span style="color: #0000FF">=&nbsp;</span><span style="color: #000000">$id</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">==&nbsp;</span><span style="color: #000000">null&nbsp;</span><span style="color: #0000FF">)&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">__CLASS__&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">//&nbsp;change&nbsp;the&nbsp;data&nbsp;here</span></li>
<li><span style="color: #007700">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">signals</span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">$this</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">identifier&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">Cache</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #000000">deleteCache</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$identifier&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Deleting&nbsp;cache&nbsp;for&nbsp;ID:&nbsp;</span><span style="color: #0000FF">{</span><span style="color: #000000">$identifier</span><span style="color: #0000FF">}</span><span style="color: #335533">\n"</span><span style="color: #0000FF">;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$cache&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">Cache</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalStaticConnections.html#getInstance'>ezcSignalStaticConnections::getInstance</a></span><span style="color: #0000FF">()-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">"DataObject"</span><span style="color: #0000FF">,</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">"dataChanged"</span><span style="color: #0000FF">,&nbsp;array(&nbsp;</span><span style="color: #000000">$cache</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">"deleteCache"&nbsp;</span><span style="color: #0000FF">)&nbsp;);</span></li>
<li></li>
<li><span style="color: #000000">$data1&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">DataObject</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">1&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">$data2&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000">DataObject</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">2&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">$data1</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$data2</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">manipulate</span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>You can freely mix static connectons and normal connections. Static connections with the same priority as normal connections are executed after the normal connections.</p><a name="lazy-initialization"></a><a name="id12"></a><h4>Lazy initialization</h4><p>Lazy initialization is a mechanism to load and configure a component, only when it is really used in your application. This mechanism saves time for parsing the classes and configuration, when the component is not used at all during one request. You can find a description how you can use it for your own components and how it works in the <a href="introduction_Base.html#lazy-initialization">ezcBase tutorial</a>. The keyword for the signal slot component is <em>ezcInitSignalStaticConnections</em>.</p><ol class="code">
<li><span style="color: #000000">&lt;?php</span></li>
<li><span style="color: #0000FF">require_once&nbsp;</span><span style="color: #335533">'tutorial_autoload.php'</span><span style="color: #0000FF">;</span></li>
<li></li>
<li><span style="color: #0000FF">class&nbsp;</span><span style="color: #000000">customLazySignalConfiguration&nbsp;</span><span style="color: #0000FF">implements&nbsp;</span><span style="color: #000000">ezcBaseConfigurationInitializer</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #000000">configureObject</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">$signal&nbsp;</span><span style="color: #0000FF">)</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #000000">$signal</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">connect</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'default'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">'signal'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #335533">'customFunction'&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;}</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcBaseInit.html#setCallback'>ezcBaseInit::setCallback</a></span><span style="color: #0000FF">(&nbsp;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">'<a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcInitSignalStaticConnections.html'>ezcInitSignalStaticConnections</a>'</span><span style="color: #0000FF">,&nbsp;</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #335533">'customLazySignalConfiguration'</span></li>
<li><span style="color: #0000FF">);</span></li>
<li></li>
<li><span style="color: #0000FF">function&nbsp;</span><span style="color: #000000">customFunction</span><span style="color: #0000FF">()</span></li>
<li><span style="color: #0000FF">{</span></li>
<li><span style="color: #0000FF">&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #335533">"Custom&nbsp;function&nbsp;called&nbsp;with:\n"</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">var_export</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #000000">func_get_args</span><span style="color: #0000FF">(),&nbsp;</span><span style="color: #000000">true&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #0000FF">}</span></li>
<li></li>
<li><span style="color: #000000">$signals&nbsp;</span><span style="color: #0000FF">=&nbsp;new&nbsp;</span><span style="color: #000000"><a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcSignalCollection.html'>ezcSignalCollection</a></span><span style="color: #0000FF">();</span></li>
<li><span style="color: #000000">$signals</span><span style="color: #0000FF">-&gt;</span><span style="color: #000000">emit</span><span style="color: #0000FF">(&nbsp;</span><span style="color: #335533">'signal'</span><span style="color: #0000FF">,&nbsp;</span><span style="color: #000000">42&nbsp;</span><span style="color: #0000FF">);</span></li>
<li><span style="color: #000000">?&gt;</span></li>

</ol><p>This example shows a very simple signal setup with only one signal mapped to a custom function, which just dumps the passed data. The main difference, compared to earlier examples, is that we roll out the configuration to an own class, and define a callback using <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcBaseInit.html'>ezcBaseInit</a>::setCallback to this class, which will be called with the static connections manager as a parameter on the first request for a yet uninitialized signal connection.</p><p>ezcBaseInit::setCallback accepts as a first parameter a component specific key, which lets the component later request the right configuration callback. This class must implement the <a href='/zetacomponents/documentation/trunk/SignalSlot/phpdoc/ezcBaseConfigurationInitializer.html'>ezcBaseConfigurationInitializer</a> class. The second parameter is the name of the class to perform the static callback on. Each component's lazy initialization calls the static method configureObject() on the referenced class.</p><p>When a signal connection is really created and used, like shown in line 22 of the example, the collection will be configured by the custom configuration class. The used identifier "default" may be used for the default signal collection. It of course works for other signal collections, too, like the example for static connections shows.</p><!--Local Variables:
mode: rst
fill-column: 79
End:
vim: et syn=rst tw=79-->

	</div>

	<div class="footer">
	Copyright © 2010 <a href="http://apache.org">The Apache Software Foundation</a>
</div>
</div>
</body>
</html>
