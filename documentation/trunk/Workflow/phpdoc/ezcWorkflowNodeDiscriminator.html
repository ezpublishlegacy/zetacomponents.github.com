<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="PHP, apache, components, framework, quality" />
	<meta name="author" content="dotxp" />
	<meta name="language" content="en" />
	<meta name="date" content="Wed, 04 Aug 2010 13:08:09 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcWorkflowNodeDiscriminator.html" />
	<meta name="DC.creator" content="dotxp" />
	<meta name="DC.date" content="Wed, 04 Aug 2010 13:08:09 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/documentation/trunk/Workflow/phpdoc/ezcWorkflowNodeDiscriminator.rdf" />
	<link rel="icon" href="/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css" media="print" />


	<title>Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="" title="Zeta Components - high quality PHP components">
			Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/news.html" title="About">About</a>
	</li>
<li >
	<a href="/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/documentation/trunk/Workflow/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/documentation/trunk/Workflow/phpdoc/classtrees.html" title="API">API</a>
	</li>
<li >
	<a href="/documentation/trunk/Workflow/theoretical_background.html" title="Theoretical_background ">Theoretical_background </a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Zeta Components Manual :: Docs For Class ezcWorkflowNodeDiscriminator</h2>

                  <h3>Workflow::ezcWorkflowNodeDiscriminator</h3>
    
<a name="sec-description"></a>
<h3>Class ezcWorkflowNodeDiscriminator</h3>

<p>This node implements the Discriminator workflow pattern.</p><div><p>The Discriminator workflow pattern can be applied when the assumption made for the  Simple Merge workflow pattern does not hold. It can deal with merge situations where multiple  incoming branches may run in parallel.  It activates its outgoing node after being activated by the first incoming branch and then waits  for all remaining branches to complete before it resets itself. After the reset the Discriminator  can be triggered again.</p><p>Use Case Example: To improve response time, an action is delegated to several distributed  servers. The first response proceeds the flow, the other responses are ignored.</p><p>Incoming nodes: 2..*  Outgoing nodes: 1</p><p>This example creates a workflow that splits in two parallel threads which  are joined again using a ezcWorkflowNodeDiscriminator.</p><p></p><ol><li><div class="src-line">&#8192;<span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$workflow&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcWorkflow.html">ezcWorkflow</a></span><span class="src-sym">(&#8192;</span><span class="src-str">'Test'&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;</div></li>
<li><div class="src-line">&#8192;<span class="src-var">$split&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcWorkflowNodeParallelSplit.html">ezcWorkflowNodeParallelSplit</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$workflow</span><span class="src-sym">-&gt;</span><span class="src-id">startNode</span><span class="src-sym">-&gt;</span><a href="ezcWorkflowNode.html#methodaddOutNode">addOutNode</a><span class="src-sym">(&#8192;</span><span class="src-var">$split&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$nodeExec1&#8192;</span>=&#8192;....<span class="src-sym">;&#8192;</span><span class="src-comm">//&#8192;create&#8192;nodes&#8192;for&#8192;the&#8192;first&#8192;thread&#8192;of&#8192;execution&#8192;here..</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$nodeExec2&#8192;</span>=&#8192;....<span class="src-sym">;&#8192;</span><span class="src-comm">//&#8192;create&#8192;nodes&#8192;for&#8192;the&#8192;second&#8192;thread&#8192;of&#8192;execution&#8192;here..</span></div></li>
<li><div class="src-line">&#8192;</div></li>
<li><div class="src-line">&#8192;<span class="src-var">$disc&#8192;</span>=&#8192;<span class="src-key">new&#8192;</span><span class="src-id"><a href="ezcWorkflowNodeDiscriminator.html">ezcWorkflowNodeDiscriminator</a></span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$disc</span><span class="src-sym">-&gt;</span><a href="ezcWorkflowNode.html#methodaddInNode">addInNode</a><span class="src-sym">(&#8192;</span><span class="src-var">$nodeExec1&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$disc</span><span class="src-sym">-&gt;</span><a href="ezcWorkflowNode.html#methodaddInNode">addInNode</a><span class="src-sym">(&#8192;</span><span class="src-var">$nodeExec2&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-var">$disc</span><span class="src-sym">-&gt;</span><a href="ezcWorkflowNode.html#methodaddOutNode">addOutNode</a><span class="src-sym">(&#8192;</span><span class="src-var">$workflow</span><span class="src-sym">-&gt;</span><span class="src-id">endNode&#8192;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&#8192;<span class="src-php">?&gt;</span></div></li>
</ol></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/Workflow/src/nodes/control_flow/discriminator.php?r=HEAD">/Workflow/src/nodes/control_flow/discriminator.php</a></p>
       


<pre><a href="ezcWorkflowNode.html">ezcWorkflowNode</a>
   |
   --<a href="ezcWorkflowNodeMerge.html">ezcWorkflowNodeMerge</a>
      |
      --ezcWorkflowNodeDiscriminator</pre>


  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogen//</td>
        </tr></table><a name="sec-inherited-consts"></a>
  <h3>Inherited Constants</h3>
  <table class="summary"><thead><tr><th colspan="2">
              From <span class="classname"><a href="ezcWorkflowNode.html">ezcWorkflowNode</a></span>:
            </th>
          </tr></thead><tbody><tr><td class="right">
                <code><a href="ezcWorkflowNode.html#constWAITING_FOR_ACTIVATION">ezcWorkflowNode::WAITING_FOR_ACTIVATION</a></code>
              </td>
              <td>
                &#8192;&#8192;&#8192;The node is waiting to be activated.              </td>
            </tr><tr><td class="right">
                <code><a href="ezcWorkflowNode.html#constWAITING_FOR_EXECUTION">ezcWorkflowNode::WAITING_FOR_EXECUTION</a></code>
              </td>
              <td>
                &#8192;&#8192;&#8192;The node is activated and waiting to be executed.              </td>
            </tr></tbody></table><h3>Inherited Member Variables</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcWorkflowNodeMerge.html">ezcWorkflowNodeMerge</a></span>         
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNodeMerge.html#var%24maxInNodes">ezcWorkflowNodeMerge::$maxInNodes</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNodeMerge.html#var%24minInNodes">ezcWorkflowNodeMerge::$minInNodes</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNodeMerge.html#var%24state">ezcWorkflowNodeMerge::$state</a></code>
              
            </td>
          </tr></tbody><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcWorkflowNode.html">ezcWorkflowNode</a></span>         
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24activatedFrom">ezcWorkflowNode::$activatedFrom</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24activationState">ezcWorkflowNode::$activationState</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24configuration">ezcWorkflowNode::$configuration</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24id">ezcWorkflowNode::$id</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24inNodes">ezcWorkflowNode::$inNodes</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24internalCall">ezcWorkflowNode::$internalCall</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24maxOutNodes">ezcWorkflowNode::$maxOutNodes</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24minOutNodes">ezcWorkflowNode::$minOutNodes</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24numInNodes">ezcWorkflowNode::$numInNodes</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24numOutNodes">ezcWorkflowNode::$numOutNodes</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24outNodes">ezcWorkflowNode::$outNodes</a></code>
              
            </td>
          </tr><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcWorkflowNode.html#var%24threadId">ezcWorkflowNode::$threadId</a></code>
              
            </td>
          </tr></tbody></table><h3>Inherited Methods</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcWorkflowNodeMerge.html">ezcWorkflowNodeMerge</a></span>
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>protected</em>                                          <em>boolean</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNodeMerge.html#methoddoMerge">ezcWorkflowNodeMerge::doMerge()</a></b></code>
              <br><div style="margin-left: 20px">Performs the merge by ending the incoming threads and  activating the outgoing node.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNodeMerge.html#methodprepareActivate">ezcWorkflowNodeMerge::prepareActivate()</a></b></code>
              <br><div style="margin-left: 20px">Prepares this node for activation.</div>                          </td>
          </tr></tbody><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcWorkflowNode.html">ezcWorkflowNode</a></span>
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>public</em>                                          <em>ezcWorkflowNode</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#method__construct">ezcWorkflowNode::__construct()</a></b></code>
              <br><div style="margin-left: 20px">Constructs a new node with the configuration $configuration.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodaccept">ezcWorkflowNode::accept()</a></b></code>
              <br><div style="margin-left: 20px">Reimplementation of accept() calls accept on all out nodes.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodactivateNode">ezcWorkflowNode::activateNode()</a></b></code>
              <br><div style="margin-left: 20px">Convenience method for activating an (outgoing) node.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em><a href="ezcWorkflowNode.html">ezcWorkflowNode</a></em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodaddInNode">ezcWorkflowNode::addInNode()</a></b></code>
              <br><div style="margin-left: 20px">Adds a node to the incoming nodes of this node.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em><a href="ezcWorkflowNode.html">ezcWorkflowNode</a></em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodaddOutNode">ezcWorkflowNode::addOutNode()</a></b></code>
              <br><div style="margin-left: 20px">Adds a node to the outgoing nodes of this node.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>mixed</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodgetConfiguration">ezcWorkflowNode::getConfiguration()</a></b></code>
              <br><div style="margin-left: 20px">Returns the configuration of this node.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>ezcWorkflowNode[]</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodgetInNodes">ezcWorkflowNode::getInNodes()</a></b></code>
              <br><div style="margin-left: 20px">Returns the incoming nodes of this node.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>ezcWorkflowNode[]</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodgetOutNodes">ezcWorkflowNode::getOutNodes()</a></b></code>
              <br><div style="margin-left: 20px">Returns the outgoing nodes of this node.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>boolean</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodremoveInNode">ezcWorkflowNode::removeInNode()</a></b></code>
              <br><div style="margin-left: 20px">Removes a node from the incoming nodes of this node.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>boolean</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodremoveOutNode">ezcWorkflowNode::removeOutNode()</a></b></code>
              <br><div style="margin-left: 20px">Removes a node from the outgoing nodes of this node.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcWorkflowNode.html#methodverify">ezcWorkflowNode::verify()</a></b></code>
              <br><div style="margin-left: 20px">Checks this node's constraints.</div>                          </td>
          </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	Copyright © 2010 <a href="http://apache.org">The Software Foundation</a>
</div>
</div>
</body>
</html>
