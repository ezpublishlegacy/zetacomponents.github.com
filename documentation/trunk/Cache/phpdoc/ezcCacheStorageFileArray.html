<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html 
	xmlns="http://www.w3.org/1999/xhtml"
	xml:lang="en"
	lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<meta name="description" content="Zeta Components - reusable set of high quality PHP components to fasten your development." />
	<meta name="keywords" content="" />
	<meta name="author" content="jerome" />
	<meta name="language" content="en" />
	<meta name="date" content="Sun, 10 Jul 2011 11:10:50 +0200" />
	<meta name="robots" content="all" />

	<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
	<meta name="DC.title" content="ezcCacheStorageFileArray.html" />
	<meta name="DC.creator" content="jerome" />
	<meta name="DC.date" content="Sun, 10 Jul 2011 11:10:50 +0200" />
	<meta name="DC.rights" content="Copyright" />

	<link rel="meta" href="/documentation/trunk/Cache/phpdoc/ezcCacheStorageFileArray.rdf" />
	<link rel="icon" href="/images/favicon.png" type="image/png" />

	<link rel="Stylesheet" type="text/css" href="/styles/screen.css" media="screen" />
	<link rel="Stylesheet" type="text/css" href="/styles/print.css" media="print" />


	<title>Zeta Components - high quality PHP components</title>
</head>
<body>
<div id="wcv">
	<h1>
		<a id="header-png" href="" title="Zeta Components - high quality PHP components">
			Zeta Components - high quality PHP components
		</a>
	</h1>

	<ul class="navigation">
<li >
	<a href="/news.html" title="About">About</a>
	</li>
<li >
	<a href="/community/index.html" title="Community">Community</a>
	</li>
<li class="requested">
	<a href="/documentation/overview.html" title="Documentation">Documentation</a>
	</li>
<li >
	<a href="/download/index.html" title="Download">Download</a>
	</li>
<li >
	<a href="/support.html" title="Support">Support</a>
	</li>

</ul>
<ul class="subnavigation">
<li >
	<a href="/documentation/overview.html" title="Overview">Overview</a>
	</li>
<li >
	<a href="/documentation/install.html" title="Installation">Installation</a>
	</li>

</ul>

	<div class="content">
    <ul class="tabs">
    <li >
	<a href="/documentation/trunk/Cache/tutorial.html" title="Tutorial">Tutorial</a>
	</li>
<li class="requested">
	<a href="/documentation/trunk/Cache/phpdoc/classtrees.html" title="API">API</a>
	</li>

</ul>

		
  <div class="phpdoc">
    <h2>Zeta Components Manual :: Docs For Class ezcCacheStorageFileArray</h2>

                  <h3>Cache::ezcCacheStorageFileArray</h3>
    
<a name="sec-description"></a>
<h3>Class ezcCacheStorageFileArray</h3>

<p>This cache storage implementation stores arrays and scalar values</p><div><p>(int, float, string, bool) in files on your hard disk as PHP code. This makes  the restoring of cache data extremly fast, since the stored data is simply  included and parsed by the PHP interpreter. It takes its base methods from  the extended storage base class <a href="ezcCacheStorageFile.html">ezcCacheStorageFile</a>.</p><p>Another storage class with a similar approach exists,  <a href="ezcCacheStorageFileEvalArray.html">ezcCacheStorageFileEvalArray</a>. This class is uses exactly the same  mechanisms as ezcCacheStorageFileArray, except that is does not simply  require the stored source code, but uses eval() to restore the data.</p><p>Main purpose behind these 2 similar implementations is the following:  Most byte code caches are capable of caching code for included files,  but not for eval()ed strings. Therefore the *Evalarray class will  permit you to get your cached data not cached a second time by an  accellerator like APC, whereas the *Array class will permit you to  explicitly allow this. ATTENTION: If you do not use a byte code cache  with your PHP installation, the use of ezcCacheStorageFileArray is  recommende over the usage of ezcCacheStorageEvalarray.</p><p>For example code of using a cache storage, see <a href="ezcCacheManager.html">ezcCacheManager</a>.</p><p>The Cache package contains several other implementations of  <a href="ezcCacheStorageFile.html">ezcCacheStorageFile</a>. As there are:</p><p></p><ul><li>ezcCacheStorageFileEvalArray</li><li>ezcCacheStorageFilePlain</li></ul></div>
<p>Source for this file: <a href="http://fisheye6.atlassian.com/browse/zetacomponents/trunk/Cache/src/storage/file/array.php?r=HEAD">/Cache/src/storage/file/array.php</a></p>
       


<pre><a href="ezcCacheStorage.html">ezcCacheStorage</a>
   |
   --<a href="ezcCacheStorageFile.html">ezcCacheStorageFile</a>
      |
      --ezcCacheStorageFileArray</pre>


  <table><tr><td>
            <strong>Version:</strong>&#8192;&#8192;
          </td>
          <td>//autogentag//</td>
        </tr></table><h3>Inherited Member Variables</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcCacheStorageFile.html">ezcCacheStorageFile</a></span>         
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcCacheStorageFile.html#var%24lockResource">ezcCacheStorageFile::$lockResource</a></code>
              
            </td>
          </tr></tbody><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcCacheStorage.html">ezcCacheStorage</a></span>         
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>protected</em>                          </td>
            <td>
              <code><a href="ezcCacheStorage.html#var%24properties">ezcCacheStorage::$properties</a></code>
              
            </td>
          </tr></tbody></table><a name="sec-method-summary"></a>
  <h3>Method Summary</h3>
  <table class="summary"><tr><td class="right">
            <em>protected</em>                        <em>mixed</em>          </td>
          <td>
            <code>
              <a href="#fetchData"><b>fetchData</b></a>(
                                                                                    $filename
                                                 )
            </code>
            <br><div style="margin-left: 20px">Fetch data from the cache.</div>          </td>
        </tr><tr><td class="right">
            <em>protected</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#prepareData"><b>prepareData</b></a>(
                                                                                    $data
                                                 )
            </code>
            <br><div style="margin-left: 20px">Serialize the data for storing.</div>          </td>
        </tr></table><h3>Inherited Methods</h3>
  <table class="summary"><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcCacheStorageFile.html">ezcCacheStorageFile</a></span>
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>public</em>                                          <em>ezcCacheStorageFile</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#method__construct">ezcCacheStorageFile::__construct()</a></b></code>
              <br><div style="margin-left: 20px">Creates a new cache storage in the given location.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>int</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodcalcLifetime">ezcCacheStorageFile::calcLifetime()</a></b></code>
              <br><div style="margin-left: 20px">Calculates the lifetime remaining for a cache object.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>int</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodcountDataItems">ezcCacheStorageFile::countDataItems()</a></b></code>
              <br><div style="margin-left: 20px">Return the number of items in the cache matching a certain criteria.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methoddelete">ezcCacheStorageFile::delete()</a></b></code>
              <br><div style="margin-left: 20px">Delete data from the cache.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>              abstract                            <em>mixed</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodfetchData">ezcCacheStorageFile::fetchData()</a></b></code>
              <br><div style="margin-left: 20px">Fetch data from the cache.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>string</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodgenerateIdentifier">ezcCacheStorageFile::generateIdentifier()</a></b></code>
              <br><div style="margin-left: 20px">Generate the storage internal identifier from ID and attributes.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>int</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodgetRemainingLifetime">ezcCacheStorageFile::getRemainingLifetime()</a></b></code>
              <br><div style="margin-left: 20px">Returns the time ( in seconds ) which remains for a cache object,  before it gets outdated. In case the cache object is already  outdated or does not exist, this method returns 0.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodlock">ezcCacheStorageFile::lock()</a></b></code>
              <br><div style="margin-left: 20px">Acquire a lock on the storage.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>              abstract                            <em>string</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodprepareData">ezcCacheStorageFile::prepareData()</a></b></code>
              <br><div style="margin-left: 20px">Serialize the data for storing.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>array(string)</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodpurge">ezcCacheStorageFile::purge()</a></b></code>
              <br><div style="margin-left: 20px">Purges the given number of cache items.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodreset">ezcCacheStorageFile::reset()</a></b></code>
              <br><div style="margin-left: 20px">Resets the whole storage.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>mixed|bool</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodrestore">ezcCacheStorageFile::restore()</a></b></code>
              <br><div style="margin-left: 20px">Restore data from the cache.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em><a href="ezcCacheStackMetaData.html">ezcCacheStackMetaData</a>|null</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodrestoreMetaData">ezcCacheStorageFile::restoreMetaData()</a></b></code>
              <br><div style="margin-left: 20px">Restores and returns the meta data struct.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>array(int=&gt;string)</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodsearch">ezcCacheStorageFile::search()</a></b></code>
              <br><div style="margin-left: 20px">Search the storage for data.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>array(int=&gt;string)</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodsearchRecursive">ezcCacheStorageFile::searchRecursive()</a></b></code>
              <br><div style="margin-left: 20px">Search the storage for data recursively.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodsetOptions">ezcCacheStorageFile::setOptions()</a></b></code>
              <br><div style="margin-left: 20px">Set new options.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>string</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodstore">ezcCacheStorageFile::store()</a></b></code>
              <br><div style="margin-left: 20px">Store data to the cache storage.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodstoreMetaData">ezcCacheStorageFile::storeMetaData()</a></b></code>
              <br><div style="margin-left: 20px">Stores the given meta data struct.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodstoreRawData">ezcCacheStorageFile::storeRawData()</a></b></code>
              <br><div style="margin-left: 20px">Actually stores the given data.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodunlock">ezcCacheStorageFile::unlock()</a></b></code>
              <br><div style="margin-left: 20px">Release a lock on the storage.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorageFile.html#methodvalidateLocation">ezcCacheStorageFile::validateLocation()</a></b></code>
              <br><div style="margin-left: 20px">Checks the path in the location property exists, and is read-/writable. It  throws an exception if not.</div>                          </td>
          </tr></tbody><thead><tr><th colspan="2">
            From <span class="classname"><a href="ezcCacheStorage.html">ezcCacheStorage</a></span>
          </th>
        </tr></thead><tbody><tr><td class="right">
              <em>public</em>                                          <em>ezcCacheStorage</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#method__construct">ezcCacheStorage::__construct()</a></b></code>
              <br><div style="margin-left: 20px">Creates a new cache storage in the given location.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>int</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodcountDataItems">ezcCacheStorage::countDataItems()</a></b></code>
              <br><div style="margin-left: 20px">Return the number of items in the cache matching a certain criteria.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methoddelete">ezcCacheStorage::delete()</a></b></code>
              <br><div style="margin-left: 20px">Delete data from the cache.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>string</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodgetLocation">ezcCacheStorage::getLocation()</a></b></code>
              <br><div style="margin-left: 20px">Returns the location.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em><a href="ezcCacheStorageOptions.html">ezcCacheStorageOptions</a></em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodgetOptions">ezcCacheStorage::getOptions()</a></b></code>
              <br><div style="margin-left: 20px">Return the currently set options.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>int</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodgetRemainingLifetime">ezcCacheStorage::getRemainingLifetime()</a></b></code>
              <br><div style="margin-left: 20px">Returns the time ( in seconds ) that remains for a cache object,  before it gets outdated. In case the cache object is already  outdated or does not exist, this method returns 0.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>mixed</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodrestore">ezcCacheStorage::restore()</a></b></code>
              <br><div style="margin-left: 20px">Restore data from the cache.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>                                          <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodsetOptions">ezcCacheStorage::setOptions()</a></b></code>
              <br><div style="margin-left: 20px">Set new options.</div>                          </td>
          </tr><tr><td class="right">
              <em>public</em>              abstract                            <em>string</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodstore">ezcCacheStorage::store()</a></b></code>
              <br><div style="margin-left: 20px">Store data to the cache storage.</div>                          </td>
          </tr><tr><td class="right">
              <em>protected</em>              abstract                            <em>void</em>            </td>
            <td>
              <code><b><a href="ezcCacheStorage.html#methodvalidateLocation">ezcCacheStorage::validateLocation()</a></b></code>
              <br><div style="margin-left: 20px">Checks if the location property is valid.</div>                          </td>
          </tr></tbody></table><a name="sec-methods"></a>
  <h3>Methods</h3>
  <a name="method_detail"></a>
    
      <a name="methodfetchData" id="fetchData"><!-- --></a>

    <h4>fetchData</h4>

    <div class="method-signature">
      mixed
      fetchData(
                                  string
          $filename
                        )
    </div>

    <p>Fetch data from the cache.</p><div><p>This method does the fetching of the data itself. In this case, the  method simply includes the file and returns the value returned by the  include (or false on failure).</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$filename</code></td>
              <td><em>string</em></td>
              <td>
                                  The file to fetch data from.
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorageFile.html#methodfetchData">ezcCacheStorageFile::fetchData()</a></code></td>
            <td>
                              Fetch data from the cache.
                          </td>
          </tr></tbody></table><a name="methodprepareData" id="prepareData"><!-- --></a>

    <h4>prepareData</h4>

    <div class="method-signature">
      string
      prepareData(
                                  mixed
          $data
                        )
    </div>

    <p>Serialize the data for storing.</p><div><p>Serializes a PHP variable (except type resource and object) to a  executable PHP code representation string.</p></div>
          <h5>Parameters:</h5>
      <table class="detail"><thead><tr><th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code>$data</code></td>
              <td><em>mixed</em></td>
              <td>
                                  Simple type or array
                              </td>
            </tr></tbody></table><h5>Exceptions:</h5>
      <table class="detail"><thead><tr><th>Type</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheInvalidDataException.html">ezcCacheInvalidDataException</a></code></td>
              <td>
                                  If the data submitted is an object or a resource, since this implementation of <a href="ezcCacheStorageFile.html">ezcCacheStorageFile</a> can only deal with scalar and array values.
                              </td>
            </tr></tbody></table><h5>Redefinition of:</h5>
      <table class="detail"><thead><tr><th>Method</th>
            <th class="desc">Description</th>
          </tr></thead><tbody><tr><td><code><a href="ezcCacheStorageFile.html#methodprepareData">ezcCacheStorageFile::prepareData()</a></code></td>
            <td>
                              Serialize the data for storing.
                          </td>
          </tr></tbody></table><div class="credit">
      Documentation generated by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
    </div>
  </div>
  
	</div>

	<div class="footer">
	Copyright © 2010 <a href="http://apache.org">The Software Foundation</a>
</div>
</div>
</body>
</html>
